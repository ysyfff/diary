---
title: 异步
author: Shiyong Yin
---

## Promise



## 异步习题

> 为什么最后打印a end ? await会一直阻塞下去，直到线程中所有代码执行完毕？！

```js
async function a() {
  console.log('a start')
  let c = await b();
  console.log('a end');
}

async function b() {
  console.log('b start');
  return 12;
}
async function c() {
  console.log('c start')
  let c = await d();
  console.log('c end');
}

async function d() {
  console.log('d start');
  return 12;
}
a();
c();
setTimeout(function () {
  console.log('tiemout')
}, 0);
console.log('script start');
new Promise(function (resolve) {
  console.log('promise1');
  resolve()
}).then(function () {
  console.log('promise2');
  new Promise(function (resolve) {
    console.log('promise3');
    resolve();
  }).then(function () {
    console.log('promise4');
  });
});

console.log('script end')
```