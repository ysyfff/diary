<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Blog · 日记</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="The Diary of Shiyong Yin"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Blog · 日记"/><meta property="og:type" content="website"/><meta property="og:url" content="https://your-docusaurus-test-site.com/diary/index.html"/><meta property="og:description" content="The Diary of Shiyong Yin"/><meta property="og:image" content="https://your-docusaurus-test-site.com/diary/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://your-docusaurus-test-site.com/diary/img/docusaurus.png"/><link rel="shortcut icon" href="/diary/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><link rel="alternate" type="application/atom+xml" href="https://your-docusaurus-test-site.com/diary/blog/atom.xml" title="日记 Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://your-docusaurus-test-site.com/diary/blog/feed.xml" title="日记 Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><link rel="stylesheet" href="/diary/css/main.css"/></head><body class="blog"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/diary/"><img class="logo" src="/diary/img/logo.svg" alt="日记"/><h2 class="headerTitleWithLogo">日记</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive siteNavItemActive"><a href="/diary/blog/" target="_self">Diary</a></li><li class=""><a href="https://github.com/ysyfff/diary" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>All Blog Posts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">All Blog Posts</h3><ul><li class="navListItem"><a class="navItem" href="/diary/blog/2019/01/13/high-program3.html">再看高程3</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2019/01/07/interview.html">面试</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2019/01/06/CV.html">个人简历</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2019/01/05/react-high-performance.html">react的高性能</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/12/28/webpack-sourcecode.html">webpack源码学习</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/07/13/pi.html">树莓派</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/26/layout.html">布局</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/25/module.html">模块化</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/25/attack.html">攻击与安全</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/25/async.html">异步</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/25/todo.html">TODO</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/24/React State.html">React状态管理比较</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/23/performance.html">性能优化</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/23/http-cache.html">HTTP缓存</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/23/change-and-detection.html">(译)JS中数据的改变与发现</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/22/css.html">CSS杂记</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/20/xml-svg.html">XML与SVG</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/16/CV.html">个人简历</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/14/workspaces.html">Workspaces是什么</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/12/local-test-npm-package.html">NPM包测试之低高级策略</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/08/version.html">谈谈version</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/07/thin.html">减肥之道</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/07/problem.html">问题汇总</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/07/nginx-config.html">一个nginx配置</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/07/good-tool.html">好用的工具</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/07/good-npm.html">好用的npm包</a></li><li class="navListItem"><a class="navItem" href="/diary/blog/2018/06/06/framework.html">流行框架学习对比</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer postContainer blogContainer"><div class="wrapper"><div class="posts"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/diary/blog/2018/06/25/todo.html">TODO</a></h1><p class="post-meta">June 25, 2018</p><div class="authorBlock"><p class="post-authorName"><a target="_blank" rel="noreferrer noopener">Shiyong Yin</a></p></div></header><article class="post-content"><div><span><ul>
<li>原型</li>
<li>异步</li>
</ul>
<ol>
<li>flex</li>
<li>throttle</li>
<li>bind</li>
<li>arguments</li>
<li>[]==false</li>
<li>动态规划</li>
<li>异步</li>
<li>let =&gt;</li>
</ol>
<p>回答的不好的</p>
<ul>
<li>https</li>
<li><del>csrf</del></li>
<li>vue react diff</li>
<li><del>amd cmd</del></li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/diary/blog/2018/06/24/React State.html">React状态管理比较</a></h1><p class="post-meta">June 24, 2018</p><div class="authorBlock"></div></header><article class="post-content"><div><span><h2><a class="anchor" aria-hidden="true" id="hd"></a><a href="#hd" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>hd</h2>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/diary/blog/2018/06/23/performance.html">性能优化</a></h1><p class="post-meta">June 23, 2018</p><div class="authorBlock"><p class="post-authorName"><a target="_blank" rel="noreferrer noopener">Shiyong Yin</a></p></div></header><article class="post-content"><div><span><h2><a class="anchor" aria-hidden="true" id="优化方法"></a><a href="#优化方法" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>优化方法</h2>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/diary/blog/2018/06/23/http-cache.html">HTTP缓存</a></h1><p class="post-meta">June 23, 2018</p><div class="authorBlock"><p class="post-authorName"><a target="_blank" rel="noreferrer noopener">Shiyong Yin</a></p></div></header><article class="post-content"><div><span><h2><a class="anchor" aria-hidden="true" id="http-caching"></a><a href="#http-caching" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HTTP caching</h2>
<p>缓存的种类有很多，大致归为两类：私有与共享缓存。共享缓存能够被多个用户使用。本文主要介绍浏览器与代理缓存，除此之外还有网关
缓存，CDN，反向代理缓存，负载均衡器等部署在服务器上，为站点和web应用提供更好的稳定性、性能和扩展性。</p>
<h3><a class="anchor" aria-hidden="true" id="缓存控制"></a><a href="#缓存控制" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>缓存控制</h3>
<h4><a class="anchor" aria-hidden="true" id="cache-control"></a><a href="#cache-control" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>cache-control</h4>
<p>HTTP/1.1定义的Cache-Control投用来区分对缓存机制的支持情况，<strong>请求头和响应头都支持这个属性。</strong>
通过它来定义缓存策略。</p>
<ul>
<li><p>禁止进行缓存</p>
<pre><code class="hljs css language-http"><span class="hljs-attribute">Cache-Control</span>: no-store
</code></pre></li>
<li><p>强制确认缓存</p>
<pre><code class="hljs css language-http"><span class="hljs-attribute">Cache-Control</span>: no-cache
</code></pre></li>
<li><p>私有和公共缓存</p>
<pre><code class="hljs css language-http"><span class="hljs-attribute">Cache-Control</span>: private, public
</code></pre></li>
<li><p>缓存过期机制</p>
<p><code>max-age=&lt;seconds&gt;</code>相比Expires而言，max-age是距离请求发起的时间的秒数。针对应用中那些不会改变的文件
通常可以手动设置一定的时长以保证缓存有效，如图片、css、js等静态资源</p>
<pre><code class="hljs css language-http"><span class="hljs-attribute">Cache-Control</span>: max-age=387488400
</code></pre></li>
<li><p>缓存验证确认</p>
<p>这就意味着在考虑使用一个陈旧的资源时，必须先验证她的状态，已过期的缓存将不被使用。</p>
<pre><code class="hljs css language-http"><span class="hljs-attribute">Cache-Control</span>: must-revalidate
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="pragma头"></a><a href="#pragma头" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pragma头</h4>
<p>Pragma是HTTP/1.0标准中定义的一个header属性，只能用在头中。作用和cache-control：no-cache相同</p></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="新鲜度"></a><a href="#新鲜度" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>新鲜度</h3>
<h4><a class="anchor" aria-hidden="true" id="缓存驱逐"></a><a href="#缓存驱逐" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>缓存驱逐</h4>
<p>理论上来讲，当一个资源被缓存存储后，改资源可以被永久存储在缓存中。由于缓存只有有限空间，所以将定期删除
以下副本，这个过程叫做<strong>缓存驱逐</strong>。</p>
<p>由于HTTP是C/S模式的协议，服务器更新一个资源时，不可能直接通知客户端及其缓存，所以双方必须为该资源约定
一个过期时间，在此之前是，该资源是新鲜的，在此之后就是陈旧的。</p>
<blockquote>
<p>一个陈旧的资源是不会被直接清楚或忽略的</p>
</blockquote>
<blockquote>
<p>更新旧资源的过程如下</p>
<ul>
<li>客户端发起请求，缓存检测到一个对应的旧资源</li>
<li>缓存将此请求附加一个<code>If-None-Match</code>头，发送给服务器
<ul>
<li>服务器返回304(该响应头不会带有实体信息)，表示此资源副本是新鲜的</li>
<li>服务器判断已过期，则返回带有实体内容</li>
</ul></li>
</ul>
</blockquote>
<p><svg width="500" height="400">
<path d="M 50 20 V 50 390" stroke="green" />
<text x="25" y="20" font-size="20" fill="blue">client</text>
<path d="M 250 20 V 150 390" stroke="green" />
<path d="M 450 20 V 250 390" stroke="green" />
</svg></p>
<p>对于含有特定头部信息的请求，会去计算缓存寿命。通常情况下</p>
<ol>
<li>看max-age</li>
<li>对于不含max-age这个属性的请求则会去查看是否包含Expires属性，通过比较Expires的值和头里面Date属性的值来判断是否缓存还有效</li>
<li>如果Expires也没有，找着头里的Last-Modifyed信息。如果有，缓存的寿命就等于头里面的Date的值减去Last-Modified的值除以10</li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="加速资源"></a><a href="#加速资源" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>加速资源</h3>
<p>不频繁跟新的文件会使用特停的命名方式：在URL后面(通常是文件名后面)会加上版本号。加上版本号后的资源被视作一个完全新的
独立的资源，同时拥有一年伸着更长的缓存过期时长。同时更新的时候不会法伤部分缓存先更新而引起新旧文件内容不一致的问题。</p>
<h3><a class="anchor" aria-hidden="true" id="缓存验证"></a><a href="#缓存验证" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>缓存验证</h3>
<p>用户点击刷新按钮时开始缓存验证。</p>
<h4><a class="anchor" aria-hidden="true" id="etags"></a><a href="#etags" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ETags</h4>
<p>作为缓存的一种强校验器，ETags响应头是一个队用户代理不透明的值。如果资源请求的响应头里含有ETag，客户端可以在后续的
请求的头中带上If-None-match头来验证缓存。</p>
<p>Last-Modified响应头可以作为一种弱校验器。因为只能精确到一秒。如果响应头里有这个信息，客户端可以在后续的请求的头部带上
If-Modified-Since来做校验</p>
<h3><a class="anchor" aria-hidden="true" id="带vary头的响应"></a><a href="#带vary头的响应" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>带Vary头的响应</h3>
<pre><code class="hljs css language-http"><span class="hljs-attribute">Vary</span>: User-Agent
</code></pre>
<p>当缓存服务器收到一个请求，只有当前的请求和原始的请求头跟缓存的响应头里的Vary都匹配才能使用缓存。</p>
<p>使用Vary头有利于内容服务的动态多样性。如果需要区分移动端和桌面端的展示内容，就可以使用Vary: User-Agent，避免在不同终端展示
错误的布局。</p>
<h2><a class="anchor" aria-hidden="true" id="expires"></a><a href="#expires" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expires</h2>
<blockquote>
<p>GMT</p>
</blockquote>
<p>响应头包含日期/时间，即在此时候之后，响应过期。</p>
<p>无效的日期，比如0，代表过去的日期，即该资源已过期。</p>
<p>如果在Cache-Control中设置了max-age或者s-max-age指令，Expires会被忽略。</p>
<h2><a class="anchor" aria-hidden="true" id="date"></a><a href="#date" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Date</h2>
<blockquote>
<p>GMT</p>
</blockquote>
<p>Date是一个通用首部，其中包含了消息生成的日期和时间。</p>
<h2><a class="anchor" aria-hidden="true" id="last-modified"></a><a href="#last-modified" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Last-Modified</h2>
<blockquote>
<p>GMT</p>
</blockquote>
<p>Last-Modified是一个响应首部，其中包含源头服务器认定的资源做出修改的日期及时间。由于精度比ETag要低，
所以这是一个备用机制。包含有If-Modified-Since或If-Unmodifed-Since首部的条件求情会使用这个字段。</p>
<h2><a class="anchor" aria-hidden="true" id="etag"></a><a href="#etag" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ETag</h2>
<p>ETag 响应头是资源的特定版本的标识符。这可以让缓存更高效，并节省贷款，因为如果内容没有变，web服务器
不需要发送完整的响应。如果变了，Etag能有防止资源的同时更新相互覆盖(&quot;空中碰撞&quot;)。</p>
<h3><a class="anchor" aria-hidden="true" id="避免-空中碰撞"></a><a href="#避免-空中碰撞" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>避免&quot;空中碰撞&quot;</h3>
<p>ETag与If-Match配合来检测到空中碰撞的编辑冲突</p>
<p>编辑内容是wiki被散列，放入Etag：</p>
<pre><code class="hljs css language-http"><span class="hljs-attribute">Etag</span>: jdoiaj8383838392983ijaojdosdjiojsdij
</code></pre>
<p>将更改保存到wiki页面时，POST请求中包含有Etag值得If-Match头来检查是否为最新版本</p>
<h3><a class="anchor" aria-hidden="true" id="缓存为更改的资源"></a><a href="#缓存为更改的资源" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>缓存为更改的资源</h3>
<p>原理上面已经讲到</p>
<h2><a class="anchor" aria-hidden="true" id="应用缓存appcache"></a><a href="#应用缓存appcache" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>应用缓存appcache</h2>
<blockquote>
<p>专门为离线应用而设计的缓存</p>
</blockquote>
<p>appcache是从浏览器缓存中分出来的一块缓存，要想使用该缓存，使用manifest文件</p>
<p>一个applicationCache对象API
applicationCache属性</p>
<ul>
<li>status
applicationCache方法</li>
<li>checking</li>
<li>error</li>
<li>noupdate</li>
<li>downloading</li>
<li>process</li>
<li>updateready</li>
<li>cached</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="离线缓存service-worker"></a><a href="#离线缓存service-worker" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>离线缓存service worker</h2>
<ul>
<li><a href="https://ysyfff.github.io/weather/index.html">weather pwa</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="http2"></a><a href="#http2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HTTP2</h2>
<p>相对于http1.1有以下不同</p>
<ul>
<li>采用二进制格式</li>
<li>完全多路复用</li>
<li>报头压缩</li>
<li>服务器推送</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="https"></a><a href="#https" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HTTPS</h2>
<pre><code class="hljs">客户端在使用HTTPS方式与Web服务器通信时有以下几个步骤，如图所示。

　　（<span class="hljs-number">1</span>）客户使用https的URL访问Web服务器，要求与Web服务器建立SSL连接。

　　（<span class="hljs-number">2</span>）Web服务器收到客户端请求后，会将网站的证书信息（证书中包含公钥）传送一份给客户端。

　　（<span class="hljs-number">3</span>）客户端的浏览器与Web服务器开始协商SSL连接的安全等级，也就是信息加密的等级。

　　（<span class="hljs-number">4</span>）客户端的浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥加密，并传送给服务器。

　　（<span class="hljs-number">5</span>）Web服务器利用自己的私钥解密出会话密钥。

　　（<span class="hljs-number">6</span>）Web服务器利用会话密钥加密与客户端之间的通信。
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="web-storage"></a><a href="#web-storage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>web storage</h2>
<blockquote>
<p>Web Storage API 提供机制， 使浏览器能以一种比使用Cookie更直观的方式存储键/值对。</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="indexeddb"></a><a href="#indexeddb" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>indexedDB</h2>
<blockquote>
<p>虽然 Web Storage 对于存储较少量的数据很有用，但对于存储更大量的结构化数据来说，这种方法不太有用。IndexedDB提供了一个解决方案。</p>
</blockquote>
<blockquote>
<p>IndexedDB 是一种在用户浏览器中持久存储数据的方法。它允许您不考虑网络可用性，创建具有丰富查询能力的可离线 Web 应用程序。</p>
</blockquote>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/diary/blog/2018/06/23/change-and-detection.html">(译)JS中数据的改变与发现</a></h1><p class="post-meta">June 23, 2018</p><div class="authorBlock"><p class="post-authorName"><a target="_blank" rel="noreferrer noopener">Shiyon Yin</a></p></div></header><article class="post-content"><div><span><p><a href="http://teropa.info/blog/2015/03/02/change-and-its-detection-in-javascript-frameworks.html">原文传送门</a></p>
<p>比较Angular,Ember,React,Backbone的角度有很多，但是也许比较他们是如何管理状态的角度是最有趣的。</p>
<h2><a class="anchor" aria-hidden="true" id="投影数据"></a><a href="#投影数据" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>投影数据</h2>
<p>我们可以理解为将我们的数据投影到屏幕上的。比如JS中的对象，数组，字符串是源头，HTML中的forms，links，
buttons，images等是显示屏幕上的内容。</p>
<p>我们称之为渲染过程。我们可以认为是数据到可视化界面的投影。当我们根据数据渲染模板的时候，我们得到了代表了我们
数据的DOM(HTML)。</p>
<p><img src="/diary/img/onchange_base.svg" alt="onchange_base"></p>
<p>平常来说这是没有什么问题的。</p>
<p>假如数据随着时间的改变而改变的话，这就比较有挑战性了。比如用户的操作导致了数的变化，或者什么发生了什么改变了数据。
UI需要体现出这些变化。<strong>更重要的是，重新构建DOM是花费昂贵的。我们希望最小化的更新节点</strong></p>
<p><img src="/diary/img/onchange_change.svg" alt="onchange_change"></p>
<p>这可比只渲染一次UI困难多了，因为牵涉到了状态的变化。我们就从这里探讨上面框架的解决方案与不同之处。</p>
<h2><a class="anchor" aria-hidden="true" id="服务端渲染-重置全局"></a><a href="#服务端渲染-重置全局" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>服务端渲染：重置全局</h2>
<blockquote>
<p>没有改变，全局不可变</p>
</blockquote>
<p>在大JS的时代之前，每一个点击，没一个表单提交，都会将页面unload掉，从后端请求整个渲染的页面，回来之后，再次渲染。
这就是所谓的服务端渲染。</p>
<p><img src="/diary/img/onchange_reload.svg" alt="onchange_reload"></p>
<p>这种方法前端是不管理任何state的，都由后端处理，前端只是提供下html，css，或许有点点JS。</p>
<p>显而易见这种方法速度很慢</p>
<ol>
<li>UI需要全部渲染</li>
<li>需要走后端请求，一去一回要不少时间</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="第一代js-手动重新渲染"></a><a href="#第一代js-手动重新渲染" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>第一代JS：手动重新渲染</h2>
<blockquote>
<p>我不知道哪些应该重新渲染，你来搞明白</p>
</blockquote>
<p>总的来说，数据改变，发出事件，重新渲染UI你来决定。</p>
<p>第一代框架如backbone, ext, dojo第一次在浏览器中引入了data model，同时也是第一次
我们需要改变state在浏览器端。<strong>data model的内容改变之后需要你来获取改变然后改变UI</strong>.
<strong>数据改变的时候回触发一些事件</strong>，但是重新渲染UI是你的责任。</p>
<p><img src="/diary/img/onchange_manual.svg" alt="onchange_manual"></p>
<p>到底是渲染一大部分还是渲染一小部分就由你来决定了。灵活性很大，但同时不要忘了性能。</p>
<h2><a class="anchor" aria-hidden="true" id="手动重新渲染解决方案"></a><a href="#手动重新渲染解决方案" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>手动重新渲染解决方案</h2>
<h3><a class="anchor" aria-hidden="true" id="emberjs-数据绑定"></a><a href="#emberjs-数据绑定" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ember.js：数据绑定</h3>
<blockquote>
<p>我知道什么变化了，也知道哪里需要重新渲染，因为我控制了model和view</p>
</blockquote>
<p>总的来说，通过我设计的API来控制Model</p>
<p>和backbone一样，Ember也会在数据改变的时候发出事件，不同的是，我们把UI绑定到data model上，
也就是说，有一个数据变化的监听器，在监听器里可以和UI做绑定。这个监听器知道在接收到数据变化的时候
如何更新UI。(我们可以通过watch来获得变化，并进行UI的绑定)</p>
<p><img src="/diary/img/onchange_kvo.svg" alt="onchange_kvo"></p>
<p><strong>最大的不好的地方是，Ember必须永远知道数据的变化，这就要求我们使用Ember设计的一套API。</strong></p>
<h3><a class="anchor" aria-hidden="true" id="angularjs-脏检查"></a><a href="#angularjs-脏检查" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AngularJS：脏检查</h3>
<blockquote>
<p>我不知道什么发生了改变，所以我就检查下所有地方好了</p>
</blockquote>
<p>虽然AngularJS也在着手解决手动重新渲染的问题，但是它是从另一个角度解决问题的。</p>
<p>当我们通过angular模板渲染<code>{{foo.x}}</code>的时候，angular不仅渲染数据，还为这个特殊的值创建了的一个watcher，
从此以后，只要有变化，它就检查watcher中的值是否变了，如果变了就在UI中重新渲染这个值。整个过程就是脏检查。</p>
<p><img src="/diary/img/onchange_watch.svg" alt="onchange_watch"></p>
<p>不好的地方就是，当改变发生的时候，angular并没有深入的探测到具体是哪个数据发生了改变。所以，只要一有情况发生，
所有的watcher都要跑一遍。</p>
<p>听起来这是个性能的噩梦，但实际上还是挺快的，因为仅仅是纯JS的逻辑执行，没有牵涉到DOM的更新。但是当UI十分庞大的时候，
或者需要频繁渲染的时候，额外的优化技巧就是必须的了。</p>
<p>另外提一下，ES7中的Object.observe对Ember和Angular会十分有帮助，因为这给出了原生的watching在属性的改变上面。</p>
<h3><a class="anchor" aria-hidden="true" id="react-virtualdom"></a><a href="#react-virtualdom" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React：VirtualDOM</h3>
<blockquote>
<p>我不知道发生了哪些改变，所以我就重新渲染下，看看与之前有什么不同</p>
</blockquote>
<p>React和Angular类似，不需要data modal API的支持。那么React是如何根据数据的变化来解决UI的更新的呢？</p>
<p>React好像将我们带到了服务端渲染的方式。React的做法是从头到尾的渲染了整个UI。</p>
<p>这听起来是低效的，如果这就是故事的结尾，那确实是。然而，React 用了特殊的方法进行重新渲染。</p>
<p>当React UI进行渲染的时候，它首先渲染到Virtual DOM里面，并不是真正的DOM，而是一个轻量级的，纯粹的对象和数组的
JavaScript数据结构，这个数据结构代表了真实的DOM对象图。然后一个单独的进程采用该DOM结构在屏幕上渲染出真实的DOM结构。</p>
<p><img src="/diary/img/onchange_vdom_initial.svg" alt="onchange_vdom_initial"></p>
<p>当数据改变的时候，一个新的Virtual DOM被从头的创建。新的Virtual DOM中包含了变化的值。React从这两个Virtual DOM执行
diff算法。来获取变化的地方。而且只有那些被改变的地方才会被真实DOM重新渲染。</p>
<p><img src="/diary/img/onchange_vdom_change.svg" alt="onchange_vdom_change"></p>
<h3><a class="anchor" aria-hidden="true" id="immutable-js"></a><a href="#immutable-js" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Immutable-js</h3>
<p>尽管React的Virtual DOM已经很快了，但是在UI很大或者需要频繁渲染的时候还是会出现瓶颈。</p>
<p>问题是真的没有方法能够渲染整个DOM，(UI太大渲染不过来，渲染太快，还没渲染完就需要渲染洗一次了)。除非想Ember一想引入
一套data model API。</p>
<p>一个有效的解决的方法就是使用immutable，这和React的Virtual DOM很般配。</p>
<p>immutable是这么一个原理。正如他的名字一样，你永远不能直接改变一个对象，当时我们可以基于这个对象产生一个新的版本。</p>
<p>使用immutable的意义就是，我们可以重复使用上次Virtual DOM的那些没有改变的Virtual DOM部分。</p>
<p><img src="/diary/img/onchange_immutable.svg" alt="onchange_immutable"></p>
<p>像Ember一样，我们不能使用原生JS对象，必须使用额外的API。但是不同点在于，这次并不是框架的需要，我们使用它因为这是一种
更好的管理state的方法。这不仅提高新性能，而且是一种文化的象征。</p>
<h2><a class="anchor" aria-hidden="true" id="总结"></a><a href="#总结" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>总结</h2>
<p>对改变的发现是UI渲染的核心问题，JS库通过各种各样的途径来解决这个问题。</p>
<p>EmberJS能够检测到变化，当他们发生的时候，因为EmberJS通过API控制了Model和View，当你调用他们的时候你可以触发事件。</p>
<p>AngularJS在变化之后去检测变化，通过re-running在UI中所有的绑定来看看值是否发生了改变。</p>
<p>纯React通过re-render whole UI到一个Virtual DOM然后和就得版本比较来获得改变。不管发生了什么，都补丁到真实DOM上。</p>
<p>有immutable的React加强了纯React，通过让component快速标记那些没有改变来提升速度，这是性能的选择，同时也是文化的选择。</p>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/diary/blog/2018/06/22/css.html">CSS杂记</a></h1><p class="post-meta">June 22, 2018</p><div class="authorBlock"><p class="post-authorName"><a target="_blank" rel="noreferrer noopener">Shiyong Yin</a></p></div></header><article class="post-content"><div><span><h2><a class="anchor" aria-hidden="true" id="box-sizing"></a><a href="#box-sizing" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>box-sizing</h2>
<p>2个取值(inherit不计算在内)</p>
<ul>
<li>content-box 简单来说，整个元素宽度=width+border+margin+padding，高度类似</li>
<li>border-box  简单来说，整个元素宽度=width，width=内容宽度+border+margin+padding</li>
</ul>
<blockquote>
<p>建议将所有元素的border-boxing都设置为border-box</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="示例"></a><a href="#示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>示例</h4>
<div style="display: flex;margin-top: 10px;">
  <div style="width: 100px; height: 200px; border: 10px solid #FFC129;">
    <div style="width: 100%;">
      box-sizing: content-box;
      width: 100%;
      padding: 0;
      border-width: 0;
    </div>
  </div>
  <div style="width: 100px; height: 200px; border: 10px solid #FFC129;margin-left: 20px;">
    <div style="width: 100%;border: 10px solid blue;">
      box-sizing: content-box;
      width: 100%;
      padding: 0;
      border-width: 0;
    </div>
  </div>
  <div style="width: 100px; height: 200px; border: 10px solid #FFC129;margin-left: 20px;">
    <div style="width: 100%;border: 10px solid blue;box-sizing: border-box;">
      box-sizing: border-box;
      width: 100%;
      padding: 0;
      border-width: 0;
    </div>
  </div>
</div>
<h2><a class="anchor" aria-hidden="true" id="flex布局"></a><a href="#flex布局" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>flex布局</h2>
<pre><code class="hljs css language-css"><span class="hljs-selector-class">.a</span> {
  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">100px</span>;
}
</code></pre>
<p>这表示什么意思？</p>
<p>上面的样式等价于</p>
<pre><code class="hljs css language-css">.a {
  flex-grow: 1; //扩展比率
  flex-shrink: 1; //收缩比率
  flex-basic: 100px; //伸缩基准值
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="flex-shrink示例"></a><a href="#flex-shrink示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>flex-shrink示例</h3>
<blockquote>
<p>wrapper的总长度是500，根据基准值算出的总长度是200+200+200=600，显然超出了，所以根据收缩比率进行压缩
(600-500) / (1+2+3) = 16.666，那么green块收缩16.666x1，black块收缩16.666x2，blue块收缩16.666x3
所以最后的宽度green = 200 - 16.666x1, 同理，black,blue类似</p>
</blockquote>
<style>
.ysy-f-wrapper {
  display: flex;
  width: 500px;
  height: 50px;
}
.ysy-f-green{
  flex: 1 1 200px;
  background: green;
  height: 50px;
}
.ysy-f-black{
  flex: 2 2 200px;
  background: black;
  height: 50px;
}
.ysy-f-blue{
  flex: 3 3 200px;
  height: 50px;
  background: blue;
}
</style>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.ysy-f-wrapper</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
}
<span class="hljs-selector-class">.ysy-f-green</span>{
  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">200px</span>;
  <span class="hljs-attribute">background</span>: green;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
}
<span class="hljs-selector-class">.ysy-f-black</span>{
  <span class="hljs-attribute">flex</span>: <span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">200px</span>;
  <span class="hljs-attribute">background</span>: black;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
}
<span class="hljs-selector-class">.ysy-f-blue</span>{
  <span class="hljs-attribute">flex</span>: <span class="hljs-number">3</span> <span class="hljs-number">3</span> <span class="hljs-number">200px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
  <span class="hljs-attribute">background</span>: blue;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ysy-f-wrapper"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ysy-f-green"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ysy-f-black"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ysy-f-blue"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<div class="ysy-f-wrapper">
  <div class="ysy-f-green"></div>
  <div class="ysy-f-black"></div>
  <div class="ysy-f-blue"></div>
</div>
<h3><a class="anchor" aria-hidden="true" id="flex-grow示例"></a><a href="#flex-grow示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>flex-grow示例</h3>
<p>这个省略了，比flex-shrink好理解</p>
<h3><a class="anchor" aria-hidden="true" id="作业"></a><a href="#作业" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>作业</h3>
<p>要求如下</p>
<ol>
<li>内容居中，左右边距10px</li>
<li>A元素垂直居中</li>
<li>A元的内容垂直居中</li>
</ol>
<style>
.ysy-wrapper{
  display: flex;
  background: gray;
  width: 100%;
  /* width: 500px; */
  height: 200px;
}
.ysy-space{
  flex: 0 0 10px;
  height: 200px;
  background: gray;
}
.ysy-content{
  flex: 1;
  background: #f8f8f8;
  height: 200px;
  justify-content: center;
  align-items: center;
  display: flex;
}
.a-block{
  width: 100px;
  height: 50px;
  background: blue;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
}
</style>
<div class="ysy-wrapper">
  <div class="ysy-space"></div>
  <div class="ysy-content">
  <div class="a-block">A</div>
  </div>
  <div class="ysy-space"></div>
</div>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/diary/blog/2018/06/20/xml-svg.html">XML与SVG</a></h1><p class="post-meta">June 20, 2018</p><div class="authorBlock"><p class="post-authorName"><a target="_blank" rel="noreferrer noopener">Shiyong Yin</a></p></div></header><article class="post-content"><div><span><h2><a class="anchor" aria-hidden="true" id="xml简介"></a><a href="#xml简介" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>XML简介</h2>
<p>XML被设计用来传输和存储数据</p>
<p>HTML被设计用来显示数据</p>
<p>XMLHttpRequest是XML的衍生体，它不仅能从服务器取回数据，也能读取本地的xml文件</p>
<h2><a class="anchor" aria-hidden="true" id="svg简单示例"></a><a href="#svg简单示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SVG简单示例</h2>
<blockquote>
<p>SVG的元素和属性必须按标准格式书写，因为XML是区分大小写的（这一点和html不同）</p>
</blockquote>
<blockquote>
<p>SVG里的属性值必须用引号引起来，就算是数值也必须这样做。</p>
</blockquote>
<pre><code class="hljs css language-svg"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span>
  <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span>
  <span class="hljs-attr">baseProfile</span>=<span class="hljs-string">"full"</span>
  <span class="hljs-attr">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"200"</span>
  <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"150"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"80"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"green"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"150"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"125"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"60"</span> <span class="hljs-attr">text-anchor</span>=<span class="hljs-string">"middle"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"white"</span>&gt;</span>SVG<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg
  version="1.1"
  baseProfile="full"
  width="300" height="200"
  xmlns="http://www.w3.org/2000/svg">
  <rect width="100%" height="100%" fill="red" />
  <circle cx="150" cy="100" r="80" fill="green" />
  <text x="150" y="125" font-size="60" text-anchor="middle" fill="white">SVG</text>
</svg>
<p>HTML中如何引入SVG</p>
<ul>
<li>如果HTML是XHTML并且声明类型为application/xhtml+xml，可以直接把SVG嵌入到XML源码中</li>
<li>如果HTML是HTML5并且浏览器支持HTML5，同样可以直接嵌入SVG。然而为了符合HTML5标准，可能需要做一些语法调整。</li>
<li>可以通过 object 元素引用SVG文件</li>
<li>类似的也可以使用 iframe 元素引用SVG文件：</li>
<li>理论上同样可以使用 img 元素，但是在低于4.0版本的Firefox 中不起作用。</li>
<li>最后SVG可以通过JavaScript动态创建并注入到HTML DOM中。 这样具有一个优点，可以对浏览器使用替代技术，在不能解析SVG的情况下，可以替换创建的内容。</li>
</ul>
<p>服务器返回头部信息</p>
<ul>
<li>Content-Type: image/svg+xml</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="什么是像素"></a><a href="#什么是像素" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>什么是像素</h2>
<p>基本上，在 SVG 文档中的1个像素对应输出设备（比如显示屏）上的1个像素。但是这种情况是可以改变的，否则 SVG 的名字里也不至于会有“Scalable”（可缩放）这个∫词</p>
<h2><a class="anchor" aria-hidden="true" id="基本图形"></a><a href="#基本图形" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>基本图形</h2>
<pre><code class="hljs css language-svg">&lt;?xml version=<span class="hljs-string">"1.0"</span> standalone=<span class="hljs-string">"no"</span>?&gt;
&lt;svg <span class="hljs-built_in">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"250"</span> version=<span class="hljs-string">"1.1"</span> xmlns=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;
  &lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"10"</span> y=<span class="hljs-string">"10"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"30"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"30"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"5"</span>/&gt;
  &lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"60"</span> y=<span class="hljs-string">"10"</span> rx=<span class="hljs-string">"10"</span> ry=<span class="hljs-string">"10"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"30"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"30"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"5"</span>/&gt;
  &lt;<span class="hljs-built_in">circle</span> cx=<span class="hljs-string">"25"</span> cy=<span class="hljs-string">"75"</span> r=<span class="hljs-string">"20"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"red"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"5"</span>/&gt;
  &lt;ellipse cx=<span class="hljs-string">"75"</span> cy=<span class="hljs-string">"75"</span> rx=<span class="hljs-string">"20"</span> ry=<span class="hljs-string">"5"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"red"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"5"</span>/&gt;
  &lt;<span class="hljs-built_in">line</span> x1=<span class="hljs-string">"10"</span> x2=<span class="hljs-string">"50"</span> y1=<span class="hljs-string">"110"</span> y2=<span class="hljs-string">"150"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"orange"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"5"</span>/&gt;
  &lt;polyline points=<span class="hljs-string">"60 110 65 120 70 115 75 130 80 125 85 140 90 135 95 150 100 145"</span>
      <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"orange"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"5"</span>/&gt;
  &lt;polygon points=<span class="hljs-string">"50 160 55 180 70 180 60 190 65 205 50 195 35 205 40 190 30 180 45 180"</span>
      <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"green"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"5"</span>/&gt;
  &lt;path d=<span class="hljs-string">"M20,230 Q40,205 50,230 T90,230"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"blue"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"5"</span>/&gt;
&lt;/svg&gt;
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="200" height="250" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <rect x="10" y="10" width="30" height="30" stroke="black" fill="transparent" stroke-width="5"/>
  <rect x="60" y="10" rx="10" ry="10" width="30" height="30" stroke="black" fill="transparent" stroke-width="5"/>
  <circle cx="25" cy="75" r="20" stroke="red" fill="transparent" stroke-width="5"/>
  <ellipse cx="75" cy="75" rx="20" ry="5" stroke="red" fill="transparent" stroke-width="5"/>
  <line x1="10" x2="50" y1="110" y2="150" stroke="orange" fill="transparent" stroke-width="5"/>
  <polyline points="60 110 65 120 70 115 75 130 80 125 85 140 90 135 95 150 100 145"
      stroke="orange" fill="transparent" stroke-width="5"/>
  <polygon points="50 160 55 180 70 180 60 190 65 205 50 195 35 205 40 190 30 180 45 180"
      stroke="green" fill="transparent" stroke-width="5"/>
  <path d="M20,230 Q40,205 50,230 T90,230" fill="none" stroke="blue" stroke-width="5"/>
</svg>
<h3><a class="anchor" aria-hidden="true" id="矩形-rect"></a><a href="#矩形-rect" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>矩形 rect</h3>
<ul>
<li>x
<ul>
<li>起点x坐标</li>
</ul></li>
<li>y
<ul>
<li>起点y坐标</li>
</ul></li>
<li>rx
<ul>
<li>圆角x方位的半径</li>
</ul></li>
<li>ry
<ul>
<li>圆角方位的半径</li>
</ul></li>
<li>width
<ul>
<li>x 方向宽度</li>
</ul></li>
<li>height
<ul>
<li>y 方向高度</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="圆形-circle"></a><a href="#圆形-circle" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>圆形 circle</h3>
<ul>
<li>cx
<ul>
<li>圆心x的位置</li>
</ul></li>
<li>cy
<ul>
<li>圆心y的位置</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="椭圆-ellipse"></a><a href="#椭圆-ellipse" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>椭圆 ellipse</h3>
<ul>
<li>rx
<ul>
<li>椭圆x的半径</li>
</ul></li>
<li>ry
<ul>
<li>椭圆y的半径</li>
</ul></li>
<li>cx
<ul>
<li>椭圆心x的位置</li>
</ul></li>
<li>cy
<ul>
<li>椭圆心y的位置</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="折现-polyline"></a><a href="#折现-polyline" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>折现 polyline</h3>
<ul>
<li>points
<ul>
<li>点集数列。每个数字用空白、逗号、终止命令符或者换行符分隔开。每个点必须包含2个数字，一个是x坐标，一个是y坐标。所以点列表 (0,0), (1,1) 和(2,2)可以写成这样：“0 0, 1 1, 2 2”。</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="多边形-polygon"></a><a href="#多边形-polygon" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>多边形 polygon</h3>
<ul>
<li>points
<ul>
<li>点集数列。每个数字用空白符、逗号、终止命令或者换行符分隔开。每个点必须包含2个数字，一个是x坐标，一个是y坐标。所以点列表 (0,0), (1,1) 和(2,2)可以写成这样：“0 0, 1 1, 2 2”。路径绘制完后闭合图形，所以最终的直线将从位置(2,2)连接到位置(0,0)。</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="路径-path"></a><a href="#路径-path" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>路径 path</h3>
<ul>
<li>d
<ul>
<li>属性d的值是一个“命令+参数”的序列</li>
</ul></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="直线路径"></a><a href="#直线路径" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>直线路径</h2>
<p>直线命令</p>
<ul>
<li>M: Move to 因为M命令仅仅是移动画笔，但不画线。所以M命令经常出现在路径的开始处，用来指明从何处开始画。</li>
<li>能够真正画出线的命令有三个
<ul>
<li>L L需要两个参数，分别是一个点的x轴和y轴坐标</li>
<li>H 水平线</li>
<li>V 垂直线</li>
</ul></li>
<li>Z Z命令会从当前点画一条直线到路径的起点</li>
</ul>
<pre><code class="hljs css language-svg"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M10 10 H 90 V 90 H 10 z"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"transparent"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"blue"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"90"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"90"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"90"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"90"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="100" height="100" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M10 10 H 90 V 90 H 10 z" stroke-width="5" fill="transparent" stroke="blue"></path>
  <circle cx="10" cy="10" r="2" fill="red"/>
  <circle cx="90" cy="90" r="2" fill="red"/>
  <circle cx="90" cy="10" r="2" fill="red"/>
  <circle cx="10" cy="90" r="2" fill="red"/>
</svg>
<h2><a class="anchor" aria-hidden="true" id="曲线路径"></a><a href="#曲线路径" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>曲线路径</h2>
<p>绘制平滑曲线的命令有三个，其中两个用来绘制贝塞尔曲线，另外一个用来绘制弧形或者说是圆的一部分</p>
<p>贝塞尔曲线的类型有很多，但是在path元素里，只存在两种贝塞尔曲线：三次贝塞尔曲线C，和二次贝塞尔曲线Q。</p>
<h3><a class="anchor" aria-hidden="true" id="贝塞尔曲线-csqt"></a><a href="#贝塞尔曲线-csqt" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>贝塞尔曲线 CSQT</h3>
<p>4个命令</p>
<ul>
<li>C C(第一个控制点，第二个控制点，终点)
<ul>
<li>三次贝塞尔曲线需要定义一个点和两个<strong>控制点</strong>，所以用C命令创建三次贝塞尔曲线，需要设置三组坐标参数</li>
</ul></li>
<li>S S(第二个控制点，终点)
<ul>
<li>S命令可以用来创建与之前那些曲线一样的贝塞尔曲线
<ul>
<li>如果S命令跟在一个C命令或者另一个S命令的后面，它的第一个<strong>控制点</strong>，就会被假设成前一个<strong>控制点</strong>的对称点</li>
<li>如果S命令单独使用，前面没有C命令或者另一个S命令，那么它的两个控制点就会被假设为同一个点</li>
</ul></li>
</ul></li>
<li>Q Q(控制点，终点)
<ul>
<li>它比三次贝塞尔曲线简单，只需要一个控制点，用来确定起点和终点的曲线斜率。因此它需要两组参数，控制点和终点坐标。</li>
</ul></li>
<li>T T(终点)
<ul>
<li>就像三次贝塞尔曲线有一个S命令，二次贝塞尔曲线有一个差不多的T命令，可以通过更简短的参数，延长二次贝塞尔曲线</li>
</ul></li>
</ul>
<pre><code class="hljs css language-svg">C <span class="hljs-keyword">x</span><span class="hljs-number">1</span> y<span class="hljs-number">1</span>, <span class="hljs-keyword">x</span><span class="hljs-number">2</span> y<span class="hljs-number">2</span>, <span class="hljs-keyword">x</span> y (<span class="hljs-keyword">or</span> <span class="hljs-keyword">c</span> dx<span class="hljs-number">1</span> dy<span class="hljs-number">1</span>, dx<span class="hljs-number">2</span> dy<span class="hljs-number">2</span>, dx dy)
</code></pre>
<p>这里的最后一个坐标(x,y)表示的是曲线的终点，另外两个坐标是控制点，(x1,y1)是起点的控制点，(x2,y2)是终点的控制点</p>
<h4><a class="anchor" aria-hidden="true" id="c示例"></a><a href="#c示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>C示例</h4>
<pre><code class="hljs css language-svg">&lt;?xml version=<span class="hljs-string">"1.0"</span> standalone=<span class="hljs-string">"no"</span>?&gt;
&lt;svg <span class="hljs-built_in">width</span>=<span class="hljs-string">"190px"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"160px"</span> version=<span class="hljs-string">"1.1"</span> xmlns=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;
  &lt;path d=<span class="hljs-string">"M10 10 C 20 20, 40 20, 50 10"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span>/&gt;
  &lt;path d=<span class="hljs-string">"M70 10 C 70 20, 120 20, 120 10"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span>/&gt;
  &lt;path d=<span class="hljs-string">"M130 10 C 120 20, 180 20, 170 10"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span>/&gt;
  &lt;path d=<span class="hljs-string">"M10 60 C 20 80, 40 80, 50 60"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span>/&gt;
  &lt;path d=<span class="hljs-string">"M70 60 C 70 80, 110 80, 110 60"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span>/&gt;
  &lt;path d=<span class="hljs-string">"M130 60 C 120 80, 180 80, 170 60"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span>/&gt;
  &lt;path d=<span class="hljs-string">"M10 110 C 20 140, 40 140, 50 110"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span>/&gt;
  &lt;path d=<span class="hljs-string">"M70 110 C 70 140, 110 140, 110 110"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span>/&gt;
  &lt;path d=<span class="hljs-string">"M130 110 C 120 140, 180 140, 170 110"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span>/&gt;
&lt;/svg&gt;
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="190px" height="160px" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M10 10 C 20 20, 40 20, 50 10" stroke="black" fill="transparent"/>
  <path d="M70 10 C 70 20, 120 20, 120 10" stroke="black" fill="transparent"/>
  <path d="M130 10 C 120 20, 180 20, 170 10" stroke="black" fill="transparent"/>
  <path d="M10 60 C 20 80, 40 80, 50 60" stroke="black" fill="transparent"/>
  <path d="M70 60 C 70 80, 110 80, 110 60" stroke="black" fill="transparent"/>
  <path d="M130 60 C 120 80, 180 80, 170 60" stroke="black" fill="transparent"/>
  <path d="M10 110 C 20 140, 40 140, 50 110" stroke="black" fill="transparent"/>
  <path d="M70 110 C 70 140, 110 140, 110 110" stroke="black" fill="transparent"/>
  <path d="M130 110 C 120 140, 180 140, 170 110" stroke="black" fill="transparent"/>
  <circle cx="10" cy="10" r="2" fill="red"/>
  <path d="M10 10 L20 20" stroke="red"></path>
  <path d="M50 10 L40 20" stroke="red"></path>
  <circle cx="20" cy="20" r="2" fill="red"/>
  <circle cx="40" cy="20" r="2" fill="red"/>
  <circle cx="50" cy="10" r="2" fill="red"/>
</svg>
<h4><a class="anchor" aria-hidden="true" id="s示例"></a><a href="#s示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>S示例</h4>
<pre><code class="hljs css language-svg"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"190px"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"160px"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M10 80 C 40 10, 65 10, 95 80 S 150 150, 180 80"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"transparent"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"80"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"40"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M 10 80 L 40 10"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"65"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"95"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"80"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M 65 10 L 95 80"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"150"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"150"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"125"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"150"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M 95 80 L 125 150"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"blue"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M 150 150 L 180 80"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"blue"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="190px" height="160px" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M10 80 C 40 10, 65 10, 95 80 S 150 150, 180 80" stroke="black" fill="transparent"/>
  <circle cx="10" cy="80" r="2" fill="red"/>
  <circle cx="40" cy="10" r="2" fill="red"/>
  <path d="M 10 80 L 40 10" stroke="red"/>
  <circle cx="65" cy="10" r="2" fill="red"/>
  <circle cx="95" cy="80" r="2" fill="red"/>
  <path d="M 65 10 L 95 80" stroke="red"/>
  <circle cx="150" cy="150" r="2" fill="red"/>
  <circle cx="125" cy="150" r="2" fill="red"/>
  <path d="M 95 80 L 125 150" stroke="blue"/>
  <path d="M 150 150 L 180 80" stroke="blue"/>
</svg>
<pre><code class="hljs css language-svg"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"190px"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"160px"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M10 80 S 40 10, 95 80"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"transparent"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"80"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"40"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"95"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"80"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M10 80 L 40 10"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M95 80 L 40 10"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"red"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<blockquote>
<p>相同的起始点和终点，相同的控制点，在三次和二次赛贝尔曲线中勾画出来的图形不一样</p>
</blockquote>
<?xml version="1.0" standalone="no"?>
<svg width="390px" height="160px" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M10 80 S 40 10, 95 80" stroke="black" fill="transparent"/>
  <path d="M110 80 Q 140 10, 195 80" stroke="black" fill="transparent"/>
  <path d="M210 80 S 240 10, 295 80" stroke="black" fill="transparent"/>
  <circle cx="10" cy="80" r="2" fill="red"/>
  <circle cx="40" cy="10" r="2" fill="red"/>
  <circle cx="95" cy="80" r="2" fill="red"/>
  <path d="M10 80 L 40 10" stroke="red"/>
  <path d="M95 80 L 40 10" stroke="red"/>
  <circle cx="110" cy="80" r="2" fill="red"/>
  <circle cx="140" cy="10" r="2" fill="red"/>
  <circle cx="195" cy="80" r="2" fill="red"/>
  <path d="M110 80 L 140 10" stroke="red"/>
  <path d="M195 80 L 140 10" stroke="red"/>
  <circle cx="210" cy="80" r="2" fill="red"/>
  <circle cx="240" cy="10" r="2" fill="red"/>
  <circle cx="295" cy="80" r="2" fill="red"/>
  <path d="M210 80 L 240 10" stroke="red"/>
  <path d="M295 80 L 240 10" stroke="red"/>
</svg>
<h4><a class="anchor" aria-hidden="true" id="q示例"></a><a href="#q示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Q示例</h4>
<pre><code class="hljs css language-svg"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"190px"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"160px"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>"&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M10 80 Q 95 10 180 80"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"transparent"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="190px" height="160px" version="1.1" xmlns="http://www.w3.org/2000/svg"">
  <path d="M10 80 Q 95 10 180 80" stroke="black" fill="transparent"/>
  <circle cx="10" cy="80" r="2" fill="red"/>
  <circle cx="95" cy="10" r="2" fill="red"/>
  <circle cx="180" cy="80" r="2" fill="red"/>
  <path d="M10 80 L 95 10" stroke="red" />
  <path d="M180 80 L 95 10" stroke="red" />
</svg>
<h4><a class="anchor" aria-hidden="true" id="t示例"></a><a href="#t示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>T示例</h4>
<pre><code class="hljs css language-svg"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"190px"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"160px"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M10 80 Q 52.5 10, 95 80 T 180 80"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"transparent"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="190px" height="160px" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M10 80 Q 52.5 10, 95 80 T 180 80" stroke="black" fill="transparent"/>
  <path d="M10 158 T 180 158" stroke="black" fill="transparent"/>
  <circle cx="10" cy="80" r="2" fill="red"/>
  <circle cx="52.5" cy="10" r="2" fill="red"/>
  <circle cx="95" cy="80" r="2" fill="red"/>
  <circle cx="137.5" cy="150" r="2" fill="red"/>
  <circle cx="180" cy="80" r="2" fill="red"/>
  <path d="M10 80 L 52.5 10" stroke="red" />
  <path d="M95 80 L 52.5 10" stroke="red" />
  <path d="M95 80 L 137.5 150" stroke="blue" />
  <path d="M180 80 L 137.5 150" stroke="blue" />
</svg>
<h3><a class="anchor" aria-hidden="true" id="弧形-a"></a><a href="#弧形-a" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>弧形 A</h3>
<p>已知椭圆形的长轴半径和短轴半径，并且已知两个点（在椭圆上），根据半径和两点，可以画出两个椭圆，在每个椭圆上根据两点都可以画出两种弧形。所以，仅仅根据半径和两点，可以画出四种弧形。为了保证创建的弧形唯一，A命令需要用到比较多的参数</p>
<pre><code class="hljs css language-svg">A rx ry <span class="hljs-symbol">x</span>-axis-rotation large-arc-flag sweep-flag <span class="hljs-symbol">x</span> <span class="hljs-symbol">y</span>
a rx ry <span class="hljs-symbol">x</span>-axis-rotation large-arc-flag sweep-flag dx dy
</code></pre>
<p>参数解释</p>
<ul>
<li>rx x半径</li>
<li>ry y半径</li>
<li>x-axis-rotation 弧形旋转情况(如下图第一个弧形的椭圆旋转0，第二个旋转-45)</li>
<li>large-arc-flag  角度大小</li>
<li>sweep-falg      弧线方向</li>
<li>x 弧形起点</li>
<li>y 弧形终点</li>
</ul>
<pre><code class="hljs css language-svg"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"320px"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"320px"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M10 315
           L 110 215
           A 30 50 0 0 1 162.55 162.45
           L 172.55 152.45
           A 30 50 -45 0 1 215.1 109.9
           L 315 10"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"green"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">fill-opacity</span>=<span class="hljs-string">"0.5"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="320px" height="320px" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M10 315
           L 110 215
           A 30 50 0 0 1 162.55 162.45
           L 172.55 152.45
           A 30 50 -45 0 1 215.1 109.9
           L 315 10" stroke="black" fill="green" stroke-width="2" fill-opacity="0.5"/>
</svg>
<pre><code class="hljs css language-svg"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"325px"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"325px"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M80 80
           A 45 45, 0, 0, 0, 125 125
           L 125 80 Z"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"green"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M230 80
           A 45 45, 0, 1, 0, 275 125
           L 275 80 Z"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M80 230
           A 45 45, 0, 0, 1, 125 275
           L 125 230 Z"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"purple"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M230 230
           A 45 45, 0, 1, 1, 275 275
           L 275 230 Z"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"blue"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="325px" height="325px" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M80 80
           A 45 45, 0, 0, 0, 125 125
           L 125 80 Z" fill="green"/>
  <path d="M230 80
           A 45 45, 0, 1, 0, 275 125
           L 275 80 Z" fill="red"/>
  <path d="M80 230
           A 45 45, 0, 0, 1, 125 275
           L 125 230 Z" fill="purple"/>
  <path d="M230 230
           A 45 45, 0, 1, 1, 275 275
           L 275 230 Z" fill="blue"/>
</svg>
<h2><a class="anchor" aria-hidden="true" id="fill和stroke属性"></a><a href="#fill和stroke属性" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fill和Stroke属性</h2>
<p>fill属性设置对象内部的颜色</p>
<p>stroke属性设置绘制对象的线条的颜色</p>
<h3><a class="anchor" aria-hidden="true" id="上色-fill-stroke"></a><a href="#上色-fill-stroke" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>上色 fill stroke</h3>
<pre><code class="hljs css language-svg">&lt;svg&gt;
&lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"10"</span> y=<span class="hljs-string">"10"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"blue"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"purple"</span>
       <span class="hljs-built_in">fill</span>-opacity=<span class="hljs-string">"0.5"</span> <span class="hljs-built_in">stroke</span>-opacity=<span class="hljs-string">"0.8"</span>/&gt;
&lt;/svg&gt;
</code></pre>
<p><svg>
<rect x="10" y="10" width="100" height="100" stroke="blue" fill="purple"
       fill-opacity="0.5" stroke-opacity="0.8"/>
</svg></p>
<h3><a class="anchor" aria-hidden="true" id="描边-stroke-linecap-join-dasharray"></a><a href="#描边-stroke-linecap-join-dasharray" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>描边 stroke-line(cap|join|dasharray)</h3>
<p>除了颜色属性，还有其他一些属性用来控制绘制描边的方式</p>
<ul>
<li>stroke-linecap 描边是以路径为中心线绘制的
<ul>
<li>butt 用直边结束线段</li>
<li>square 稍微超出实际路径的范围，超出的大小由stroke-width控制</li>
<li>round 示边框的终点是圆角，圆角的半径也是由stroke-width控制的</li>
</ul></li>
<li>stroke-linejoin 每条折线都是由两个线段连接起来的，连接处的样式由stroke-linejoin属性控制
<ul>
<li>miter 尖角</li>
<li>round 圆角</li>
<li>bevel 平滑</li>
</ul></li>
<li>stroke-linedasharray 将虚线类型应用在描边上
<ul>
<li>stroke-dasharray属性的参数，是一组用逗号分割的数字组成的数列</li>
<li>注意，和path不一样，这里的数字必须用逗号分割（空格会被忽略）</li>
<li>每一组数字，第一个用来表示填色区域的长度，第二个用来表示非填色区域的长度。</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="stroke-linecap示例"></a><a href="#stroke-linecap示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>stroke-linecap示例</h4>
<pre><code class="hljs css language-svg">&lt;?xml version=<span class="hljs-string">"1.0"</span> standalone=<span class="hljs-string">"no"</span>?&gt;
&lt;svg <span class="hljs-built_in">width</span>=<span class="hljs-string">"160"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"140"</span> xmlns=<span class="hljs-string">"http://www.w3.org/2000/svg"</span> version=<span class="hljs-string">"1.1"</span>&gt;
  &lt;<span class="hljs-built_in">line</span> x1=<span class="hljs-string">"40"</span> x2=<span class="hljs-string">"120"</span> y1=<span class="hljs-string">"20"</span> y2=<span class="hljs-string">"20"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"20"</span> <span class="hljs-built_in">stroke</span>-linecap=<span class="hljs-string">"butt"</span>/&gt;
  &lt;<span class="hljs-built_in">line</span> x1=<span class="hljs-string">"40"</span> x2=<span class="hljs-string">"120"</span> y1=<span class="hljs-string">"60"</span> y2=<span class="hljs-string">"60"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"20"</span> <span class="hljs-built_in">stroke</span>-linecap=<span class="hljs-string">"square"</span>/&gt;
  &lt;<span class="hljs-built_in">line</span> x1=<span class="hljs-string">"40"</span> x2=<span class="hljs-string">"120"</span> y1=<span class="hljs-string">"100"</span> y2=<span class="hljs-string">"100"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"20"</span> <span class="hljs-built_in">stroke</span>-linecap=<span class="hljs-string">"round"</span>/&gt;
&lt;/svg&gt;
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="160" height="140" xmlns="http://www.w3.org/2000/svg" version="1.1">
  <line x1="40" x2="120" y1="20" y2="20" stroke="black" stroke-width="20" stroke-linecap="butt"/>
  <path d="M40 20 L 120 20" stroke="red" />
  <line x1="40" x2="120" y1="60" y2="60" stroke="black" stroke-width="20" stroke-linecap="square"/>
  <path d="M40 60 H 120" stroke="red" />
  <line x1="40" x2="120" y1="100" y2="100" stroke="black" stroke-width="20" stroke-linecap="round"/>
  <path d="M40 100 H 120" stroke="red" />
</svg>
<h4><a class="anchor" aria-hidden="true" id="stroke-linejoin示例"></a><a href="#stroke-linejoin示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>stroke-linejoin示例</h4>
<pre><code class="hljs css language-svg">&lt;?xml version=<span class="hljs-string">"1.0"</span> standalone=<span class="hljs-string">"no"</span>?&gt;
&lt;svg <span class="hljs-built_in">width</span>=<span class="hljs-string">"160"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"280"</span> xmlns=<span class="hljs-string">"http://www.w3.org/2000/svg"</span> version=<span class="hljs-string">"1.1"</span>&gt;
  &lt;polyline points=<span class="hljs-string">"40 60 80 20 120 60"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"20"</span>
      <span class="hljs-built_in">stroke</span>-linecap=<span class="hljs-string">"butt"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-built_in">stroke</span>-linejoin=<span class="hljs-string">"miter"</span>/&gt;
  &lt;polyline points=<span class="hljs-string">"40 140 80 100 120 140"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"20"</span>
      <span class="hljs-built_in">stroke</span>-linecap=<span class="hljs-string">"round"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-built_in">stroke</span>-linejoin=<span class="hljs-string">"round"</span>/&gt;
  &lt;polyline points=<span class="hljs-string">"40 220 80 180 120 220"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"20"</span>
      <span class="hljs-built_in">stroke</span>-linecap=<span class="hljs-string">"square"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-built_in">stroke</span>-linejoin=<span class="hljs-string">"bevel"</span>/&gt;
&lt;/svg&gt;
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="160" height="280" xmlns="http://www.w3.org/2000/svg" version="1.1">
  <polyline points="40 60 80 20 120 60" stroke="black" stroke-width="20"
      stroke-linecap="butt" fill="none" stroke-linejoin="miter"/>
  <polyline points="40 140 80 100 120 140" stroke="black" stroke-width="20"
      stroke-linecap="round" fill="none" stroke-linejoin="round"/>
  <polyline points="40 220 80 180 120 220" stroke="black" stroke-width="20"
      stroke-linecap="square" fill="none" stroke-linejoin="bevel"/>
</svg>
<h4><a class="anchor" aria-hidden="true" id="stroke-linedasharray示例"></a><a href="#stroke-linedasharray示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>stroke-linedasharray示例</h4>
<pre><code class="hljs css language-svg">&lt;?xml version=<span class="hljs-string">"1.0"</span> standalone=<span class="hljs-string">"no"</span>?&gt;
&lt;svg <span class="hljs-built_in">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"120"</span> xmlns=<span class="hljs-string">"http://www.w3.org/2000/svg"</span> version=<span class="hljs-string">"1.1"</span>&gt;
  &lt;path d=<span class="hljs-string">"M 10 75 Q 50 10 100 75 T 190 75"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span>
    <span class="hljs-built_in">stroke</span>-linecap=<span class="hljs-string">"round"</span> <span class="hljs-built_in">stroke</span>-dasharray=<span class="hljs-string">"5,15,5"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"none"</span>/&gt;
  &lt;path d=<span class="hljs-string">"M 10 75 L 190 75"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"red"</span>
    <span class="hljs-built_in">stroke</span>-linecap=<span class="hljs-string">"round"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"1"</span> <span class="hljs-built_in">stroke</span>-dasharray=<span class="hljs-string">"1,2,3,4,5"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"none"</span>/&gt;
&lt;/svg&gt;
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="200" height="120" xmlns="http://www.w3.org/2000/svg" version="1.1">
  <path d="M 10 75 Q 50 10 100 75 T 190 75" stroke="black"
    stroke-linecap="round" stroke-dasharray="5,15,5" fill="none"/>
  <path d="M 10 75 L 190 75" stroke="red"
    stroke-linecap="round" stroke-width="1" stroke-dasharray="1,2,3,4,5" fill="none"/>
</svg>
<p>解释说明</p>
<ul>
<li>第一个例子，该路径首先渲染5个填色单位，10个空白单位，5个填色单位，然后回头以这3个数字做一次循环，但是这次是创建5个空白单位，10个填色单位，5个空白单位。通过这两次循环得到偶数模式，并将这个偶数模式不断重复。</li>
<li>第二个例子，先做5个像素单位的填色，紧接着是5个空白单位，然后又是5个单位的填色。如果你想要更复杂的虚线模式，你可以定义更多的数字</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="使用css"></a><a href="#使用css" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用CSS</h2>
<p>除了定义对象的属性外，你也可以通过CSS来样式化填充和描边。语法和在html里使用CSS一样，只不过你要把background-color、border改成fill和stroke。</p>
<p>注意，不是所有的属性都能用CSS来设置。上色和填充的部分一般是可以用CSS来设置的，比如fill，stroke，stroke-dasharray等，但是不包括下面会提到的渐变和图案等功能。另外，width、height，以及路径的命令等等，都不能用css设置。判断它们能不能用CSS设置还是比较容易的。</p>
<blockquote>
<p><a href="http://www.w3.org/TR/SVG/propidx.html">SVG规范</a>将属性区分成properties和其他attributes，前者是可以用CSS设置的，后者不能。</p>
</blockquote>
<p>3种CSS用法</p>
<ol>
<li><p>CSS可以利用style属性插入到元素的行间</p>
<pre><code class="hljs css language-svg">&lt;svg&gt;
&lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"10"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"180"</span> y=<span class="hljs-string">"10"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"180"</span> style=<span class="hljs-string">"stroke: black; fill: red;"</span>/&gt;
&lt;/svg&gt;
</code></pre>
<p><svg>
<rect x="10" height="180" y="10" width="180" style="stroke: black; fill: red;"/>
</svg></p></li>
<li><p>利用<code>&lt;style&gt;</code>设置一段样式段落。就像在<code>&lt;html&gt;</code>里这样的<code>&lt;style&gt;</code>一般放在<code>&lt;head&gt;</code>里，在svg里<code>&lt;style&gt;</code>则放在<code>&lt;defs&gt;</code>标签里。<code>&lt;defs&gt;</code>表示定义，这里面可以定义一些不会在SVG图形中出现、但是可以被其他元素使用的元素。<strong>同样可以使用hover</strong></p>
<pre><code class="hljs css language-svg"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">defs</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span>&gt;</span><span class="xml">&lt;![CDATA[
      #MyRect {
        stroke: black;
        fill: red;
      }
    ]]&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">defs</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"180"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"180"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"MyRect"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<p><?xml version="1.0" standalone="no"?>
<svg width="200" height="200" xmlns="http://www.w3.org/2000/svg" version="1.1">
<defs>
<style type="text/css"><![CDATA[
       #MyRect {
         stroke: black;
         fill: red;
       }
       #MyRect:hover {
         stroke: black;
         fill: blue;
       }
     ]]></style>
</defs>
<rect x="10" height="180" y="10" width="180" id="MyRect"/>
</svg></p></li>
<li><p>你也可以定义一个外部的样式表</p>
<pre><code class="hljs css language-svg"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span>
<span class="hljs-meta">&lt;?xml-stylesheet type="text/css" href="style.css"?&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"MyRect2"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<p><?xml version="1.0" standalone="no"?>
<?xml-stylesheet type="text/css" href="style.css"?></p>
<p><svg width="200" height="50" xmlns="http://www.w3.org/2000/svg" version="1.1">
<rect height="10" width="10" id="MyRect2"/>
</svg></p></li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="渐变"></a><a href="#渐变" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>渐变</h2>
<p>并非只能简单填充颜色和描边，更令人兴奋的是，你还可以创建和并在填充和描边上应用渐变色。</p>
<p>有两种类型的渐变：线性渐变和径向渐变。你必须给渐变内容指定一个id属性，否则文档内的其他元素就不能引用它。为了让渐变能被重复使用，渐变内容需要定义在<code>&lt;defs&gt;</code>标签内部，而不是定义在形状上面</p>
<h3><a class="anchor" aria-hidden="true" id="线性渐变"></a><a href="#线性渐变" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>线性渐变</h3>
<p>线性渐变沿着直线改变颜色，要插入一个线性渐变，你需要在SVG文件的<code>&lt;defs&gt;</code>元素内部，创建一个<code>&lt;linearGradient&gt;</code> 节点。</p>
<pre><code class="hljs css language-svg"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"120"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"240"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">defs</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">linearGradient</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"Gradient1"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stop1"</span> <span class="hljs-attr">offset</span>=<span class="hljs-string">"0%"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stop2"</span> <span class="hljs-attr">offset</span>=<span class="hljs-string">"50%"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stop3"</span> <span class="hljs-attr">offset</span>=<span class="hljs-string">"100%"</span>/&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">linearGradient</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">linearGradient</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"Gradient2"</span> <span class="hljs-attr">x1</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">x2</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">y1</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">y2</span>=<span class="hljs-string">"1"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">offset</span>=<span class="hljs-string">"0%"</span> <span class="hljs-attr">stop-color</span>=<span class="hljs-string">"red"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">offset</span>=<span class="hljs-string">"50%"</span> <span class="hljs-attr">stop-color</span>=<span class="hljs-string">"black"</span> <span class="hljs-attr">stop-opacity</span>=<span class="hljs-string">"0"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">offset</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">stop-color</span>=<span class="hljs-string">"blue"</span>/&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">linearGradient</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span>&gt;</span><span class="xml">&lt;![CDATA[
        #rect1 { fill: url(#Gradient1); }
        .stop1 { stop-color: red; }
        .stop2 { stop-color: black; stop-opacity: 0; }
        .stop3 { stop-color: blue; }
      ]]&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">defs</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"rect1"</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">rx</span>=<span class="hljs-string">"15"</span> <span class="hljs-attr">ry</span>=<span class="hljs-string">"15"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"120"</span> <span class="hljs-attr">rx</span>=<span class="hljs-string">"15"</span> <span class="hljs-attr">ry</span>=<span class="hljs-string">"15"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"url(#Gradient2)"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="120" height="240" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <defs>
      <linearGradient id="Gradient1">
        <stop class="stop1" offset="0%"/>
        <stop class="stop2" offset="50%"/>
        <stop class="stop3" offset="100%"/>
      </linearGradient>
      <linearGradient id="Gradient2" x1="0" x2="0" y1="0" y2="1">
        <stop offset="0%" stop-color="red"/>
        <stop offset="50%" stop-color="black" stop-opacity="0"/>
        <stop offset="100%" stop-color="blue"/>
      </linearGradient>
      <style type="text/css"><![CDATA[
        #rect1 { fill: url(#Gradient1); }
        .stop1 { stop-color: red; }
        .stop2 { stop-color: black; stop-opacity: 0; }
        .stop3 { stop-color: blue; }
      ]]></style>
  </defs>
  <rect id="rect1" x="10" y="10" rx="15" ry="15" width="100" height="100"/>
  <rect x="10" y="120" rx="15" ry="15" width="100" height="100" fill="url(#Gradient2)"/>
</svg>
<p>以上是一个应用了线性渐变的<code>&lt;rect&gt;</code>元素的示例。线性渐变内部有几个<code>&lt;stop&gt;</code> 结点，这些结点通过指定位置的offset（偏移）属性和stop-color（颜色中值）属性来说明在渐变的特定位置上应该是什么颜色；可以直接指定这两个属性值，也可以通过CSS来指定他们的值，该例子中混合使用了这两种方法.</p>
<p>使用渐变时，我们需要在一个对象的属性fill或属性stroke中引用它，这跟你在CSS中使用url引用元素的方法一样。在本例中，url只是一个渐变的引用，我们已经给这个渐变一个ID——“Gradient”。要想附加它，将属性fill设置为url(#Gradient)即可。现在对象就变成多色的了，也可以用同样的方式处理stroke。</p>
<p><code>&lt;linearGradient&gt;</code>元素还需要一些其他的属性值，它们指定了渐变的大小和出现范围。渐变的方向可以通过两个点来控制，它们分别是属性x1、x2、y1和y2，这些属性定义了渐变路线走向。渐变色默认是水平方向的，但是通过修改这些属性，就可以旋转该方向。下例中的Gradient2创建了一个垂直渐变。</p>
<blockquote>
<p>注意: 你也可以在渐变上使用xlink:href属性。如果使用了该属性时，一个渐变的属性和颜色中值（stop）可以被另一个渐变包含引用。在下例中，你就不需要再Grandient2中重新创建全部的颜色中值（stop）。</p>
</blockquote>
<pre><code class="hljs css language-svg">&lt;linearGradient <span class="hljs-built_in">id</span>=<span class="hljs-string">"Gradient1"</span>&gt;
   &lt;stop <span class="hljs-built_in">id</span>=<span class="hljs-string">"stop1"</span> <span class="hljs-built_in">offset</span>=<span class="hljs-string">"0%"</span>/&gt;
   &lt;stop <span class="hljs-built_in">id</span>=<span class="hljs-string">"stop2"</span> <span class="hljs-built_in">offset</span>=<span class="hljs-string">"50%"</span>/&gt;
   &lt;stop <span class="hljs-built_in">id</span>=<span class="hljs-string">"stop3"</span> <span class="hljs-built_in">offset</span>=<span class="hljs-string">"100%"</span>/&gt;
 &lt;/linearGradient&gt;
 &lt;linearGradient <span class="hljs-built_in">id</span>=<span class="hljs-string">"Gradient2"</span> x1=<span class="hljs-string">"0"</span> x2=<span class="hljs-string">"0"</span> y1=<span class="hljs-string">"0"</span> y2=<span class="hljs-string">"1"</span>
    xmlns:xlink=<span class="hljs-string">"http://www.w3.org/1999/xlink"</span> xlink:href=<span class="hljs-string">"#Gradient1"</span>/&gt;
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="径向渐变"></a><a href="#径向渐变" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>径向渐变</h3>
<p>径向渐变与线性渐变相似，只是它是从一个点开始发散绘制渐变。创建径向渐变需要在文档的defs中添加一个<code>&lt;radialGradient&gt;</code>元素.</p>
<p>stops的使用方法与之前一致，但是现在这个对象的颜色是中间是红色的，且向着边缘的方向渐渐的变成蓝色。跟线性渐变一样，<code>&lt;radialGradient&gt;</code> 节点可以有多个属性来描述其位置和方向，但是它更加复杂。</p>
<blockquote>
<p>cx、cy、fx、fy和r的取值范围0-1，也就是宽度和高度的比率，参考<a href="#gradientunits">gradientUnits</a></p>
</blockquote>
<p>cx，cy表示渐变的中心点，r表示渐变的半径，这三者构成了<strong>渐变区域</strong>。fx，fy表示渐变区域的焦点。</p>
<ul>
<li>若无fx，fy属性，则fx，fy和cx，cy重叠</li>
<li>若有fx，fy属性，fx，fy的取值点不能超出<strong>渐变区域</strong>，否则无法渐变。</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="示例"></a><a href="#示例" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>示例</h4>
<pre><code class="hljs css language-svg"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"120"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"240"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">defs</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">radialGradient</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"RadialGradient1"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">offset</span>=<span class="hljs-string">"0%"</span> <span class="hljs-attr">stop-color</span>=<span class="hljs-string">"red"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">offset</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">stop-color</span>=<span class="hljs-string">"blue"</span>/&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">radialGradient</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">radialGradient</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"RadialGradient2"</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"0.25"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"0.25"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"0.25"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">offset</span>=<span class="hljs-string">"0%"</span> <span class="hljs-attr">stop-color</span>=<span class="hljs-string">"red"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">offset</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">stop-color</span>=<span class="hljs-string">"blue"</span>/&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">radialGradient</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">defs</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">rx</span>=<span class="hljs-string">"15"</span> <span class="hljs-attr">ry</span>=<span class="hljs-string">"15"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"url(#RadialGradient1)"</span>/&gt;</span> 
  <span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"120"</span> <span class="hljs-attr">rx</span>=<span class="hljs-string">"15"</span> <span class="hljs-attr">ry</span>=<span class="hljs-string">"15"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"url(#RadialGradient2)"</span>/&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="120" height="240" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <defs>
      <radialGradient id="RadialGradient1">
        <stop offset="0%" stop-color="red"/>
        <stop offset="100%" stop-color="blue"/>
      </radialGradient>
      <radialGradient id="RadialGradient2" cx="0.25" cy="0.25" r="0.25">
        <stop offset="0%" stop-color="red"/>
        <stop offset="100%" stop-color="blue"/>
      </radialGradient>
  </defs>
  <rect x="10" y="10" rx="15" ry="15" width="100" height="100" fill="url(#RadialGradient1)"/> 
  <rect x="10" y="120" rx="15" ry="15" width="100" height="100" fill="url(#RadialGradient2)"/> 
</svg>
<h4><a class="anchor" aria-hidden="true" id="中心和焦点"></a><a href="#中心和焦点" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>中心和焦点</h4>
<pre><code class="hljs css language-svg">&lt;?xml version=<span class="hljs-string">"1.0"</span> standalone=<span class="hljs-string">"no"</span>?&gt;
&lt;svg <span class="hljs-built_in">width</span>=<span class="hljs-string">"120"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"120"</span> version=<span class="hljs-string">"1.1"</span>
  xmlns=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;
  &lt;defs&gt;
      &lt;radialGradient id=<span class="hljs-string">"Gradient"</span>
            cx=<span class="hljs-string">"0.5"</span> cy=<span class="hljs-string">"0.5"</span> r=<span class="hljs-string">"0.5"</span> fx=<span class="hljs-string">"0.25"</span> fy=<span class="hljs-string">"0.25"</span>&gt;
        &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"0%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"red"</span>/&gt;
        &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"100%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"blue"</span>/&gt;
      &lt;/radialGradient&gt;
  &lt;/defs&gt;
  &lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"10"</span> y=<span class="hljs-string">"10"</span> rx=<span class="hljs-string">"15"</span> ry=<span class="hljs-string">"15"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"100"</span>
        <span class="hljs-built_in">fill</span>=<span class="hljs-string">"url(#Gradient)"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"2"</span>/&gt;
  &lt;<span class="hljs-built_in">circle</span> cx=<span class="hljs-string">"60"</span> cy=<span class="hljs-string">"60"</span> r=<span class="hljs-string">"50"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"transparent"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"white"</span> <span class="hljs-built_in">stroke</span>-<span class="hljs-built_in">width</span>=<span class="hljs-string">"2"</span>/&gt;
  &lt;<span class="hljs-built_in">circle</span> cx=<span class="hljs-string">"35"</span> cy=<span class="hljs-string">"35"</span> r=<span class="hljs-string">"2"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"white"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"white"</span>/&gt;
  &lt;<span class="hljs-built_in">circle</span> cx=<span class="hljs-string">"60"</span> cy=<span class="hljs-string">"60"</span> r=<span class="hljs-string">"2"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"white"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"white"</span>/&gt;
  &lt;<span class="hljs-built_in">text</span> x=<span class="hljs-string">"38"</span> y=<span class="hljs-string">"40"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"white"</span> font-family=<span class="hljs-string">"sans-serif"</span> font-<span class="hljs-built_in">size</span>=<span class="hljs-string">"10pt"</span>&gt;(fx,fy)&lt;/<span class="hljs-built_in">text</span>&gt;
  &lt;<span class="hljs-built_in">text</span> x=<span class="hljs-string">"63"</span> y=<span class="hljs-string">"63"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"white"</span> font-family=<span class="hljs-string">"sans-serif"</span> font-<span class="hljs-built_in">size</span>=<span class="hljs-string">"10pt"</span>&gt;(cx,cy)&lt;/<span class="hljs-built_in">text</span>&gt;
&lt;/svg&gt;
</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="120" height="120" version="1.1"
  xmlns="http://www.w3.org/2000/svg">
  <defs>
      <radialGradient id="Gradient"
            cx="0.5" cy="0.5" r="0.5" fx="0.25" fy="0.25">
        <stop offset="0%" stop-color="red"/>
        <stop offset="100%" stop-color="blue"/>
      </radialGradient>
  </defs>
  <rect x="10" y="10" rx="15" ry="15" width="100" height="100"
        fill="url(#Gradient)" stroke="black" stroke-width="2"/>
  <circle cx="60" cy="60" r="50" fill="transparent" stroke="white" stroke-width="2"/>
  <circle cx="35" cy="35" r="2" fill="white" stroke="white"/>
  <circle cx="60" cy="60" r="2" fill="white" stroke="white"/>
  <text x="38" y="40" fill="white" font-family="sans-serif" font-size="10pt">(fx,fy)</text>
  <text x="63" y="63" fill="white" font-family="sans-serif" font-size="10pt">(cx,cy)</text>
</svg>
<h4><a class="anchor" aria-hidden="true" id="spreadmethod"></a><a href="#spreadmethod" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>spreadMethod</h4>
<p>线性渐变和径向渐变都需要一些额外的属性用于描述渐变过程，这里我希望额外提及一个spreadMethod属性，该属性控制了当渐变到达终点的行为，但是此时该对象尚未被填充颜色.</p>
<ul>
<li>pad 就是我们之前看到的，即当渐变到达终点时，最终的偏移颜色被用于填充对象剩下的空间</li>
<li>reflect reflect会让渐变一直持续下去，不过它的效果是与渐变本身是相反的，以100%偏移位置的颜色开始，逐渐偏移到0%位置的颜色，然后再回到100%偏移位置的颜色</li>
<li>repeat repeat也会让渐变继续，但是它不会像reflect那样反向渐变，而是跳回到最初的颜色然后继续渐变。</li>
</ul>
<pre><code class="hljs css language-svg">&lt;?xml version=<span class="hljs-string">"1.0"</span> standalone=<span class="hljs-string">"no"</span>?&gt;
&lt;svg <span class="hljs-built_in">width</span>=<span class="hljs-string">"220"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"220"</span> version=<span class="hljs-string">"1.1"</span> xmlns=<span class="hljs-string">"http://www.w3.org/2000/svg"</span>&gt;
  &lt;defs&gt;
      &lt;radialGradient id=<span class="hljs-string">"GradientPad"</span>
            cx=<span class="hljs-string">"0.5"</span> cy=<span class="hljs-string">"0.5"</span> r=<span class="hljs-string">"0.4"</span> fx=<span class="hljs-string">"0.75"</span> fy=<span class="hljs-string">"0.75"</span>
            spreadMethod=<span class="hljs-string">"pad"</span>&gt;
        &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"0%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"red"</span>/&gt;
        &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"100%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"blue"</span>/&gt;
      &lt;/radialGradient&gt;
      &lt;radialGradient id=<span class="hljs-string">"GradientReflect"</span>
            cx=<span class="hljs-string">"0.5"</span> cy=<span class="hljs-string">"0.5"</span> r=<span class="hljs-string">"0.4"</span> fx=<span class="hljs-string">"0.75"</span> fy=<span class="hljs-string">"0.75"</span>
            spreadMethod=<span class="hljs-string">"reflect"</span>&gt;
        &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"0%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"red"</span>/&gt;
        &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"100%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"blue"</span>/&gt;
      &lt;/radialGradient&gt;
      &lt;radialGradient id=<span class="hljs-string">"GradientRepeat"</span>
            cx=<span class="hljs-string">"0.5"</span> cy=<span class="hljs-string">"0.5"</span> r=<span class="hljs-string">"0.4"</span> fx=<span class="hljs-string">"0.75"</span> fy=<span class="hljs-string">"0.75"</span>
            spreadMethod=<span class="hljs-string">"repeat"</span>&gt;
        &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"0%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"red"</span>/&gt;
        &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"100%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"blue"</span>/&gt;
      &lt;/radialGradient&gt;
      &lt;radialGradient id=<span class="hljs-string">"GradientReflect"</span>
            cx=<span class="hljs-string">"0.5"</span> cy=<span class="hljs-string">"0.5"</span> r=<span class="hljs-string">"0.4"</span> fx=<span class="hljs-string">"0.75"</span> fy=<span class="hljs-string">"0.75"</span>
            spreadMethod=<span class="hljs-string">"reflect"</span>&gt;
        &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"0%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"red"</span>/&gt;
        &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"100%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"blue"</span>/&gt;
      &lt;/radialGradient&gt;
  &lt;/defs&gt;
  &lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"10"</span> y=<span class="hljs-string">"10"</span> rx=<span class="hljs-string">"15"</span> ry=<span class="hljs-string">"15"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"url(#GradientPad)"</span>/&gt;
  &lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"10"</span> y=<span class="hljs-string">"120"</span> rx=<span class="hljs-string">"15"</span> ry=<span class="hljs-string">"15"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"url(#GradientRepeat)"</span>/&gt;
  &lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"120"</span> y=<span class="hljs-string">"120"</span> rx=<span class="hljs-string">"15"</span> ry=<span class="hljs-string">"15"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"url(#GradientReflect)"</span>/&gt;
  &lt;<span class="hljs-built_in">text</span> x=<span class="hljs-string">"15"</span> y=<span class="hljs-string">"30"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"white"</span> font-family=<span class="hljs-string">"sans-serif"</span> font-<span class="hljs-built_in">size</span>=<span class="hljs-string">"12pt"</span>&gt;Pad&lt;/<span class="hljs-built_in">text</span>&gt;
  &lt;<span class="hljs-built_in">text</span> x=<span class="hljs-string">"15"</span> y=<span class="hljs-string">"140"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"white"</span> font-family=<span class="hljs-string">"sans-serif"</span> font-<span class="hljs-built_in">size</span>=<span class="hljs-string">"12pt"</span>&gt;Repeat&lt;/<span class="hljs-built_in">text</span>&gt;
  &lt;<span class="hljs-built_in">text</span> x=<span class="hljs-string">"125"</span> y=<span class="hljs-string">"140"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"white"</span> font-family=<span class="hljs-string">"sans-serif"</span> font-<span class="hljs-built_in">size</span>=<span class="hljs-string">"12pt"</span>&gt;Reflect&lt;/<span class="hljs-built_in">text</span>&gt;
&lt;/svg&gt;

</code></pre>
<?xml version="1.0" standalone="no"?>
<svg width="220" height="220" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <defs>
      <radialGradient id="GradientPad"
            spreadMethod="pad"
            cx="0.5" cy="0.5" r="0.4" fx="0.25" fy="0.25">
        <stop offset="0%" stop-color="red"/>
        <stop offset="100%" stop-color="blue"/>
      </radialGradient>
      <radialGradient id="GradientReflect"
            cx="0.5" cy="0.5" r="0.4" fx="0.25" fy="0.25"
            spreadMethod="reflect">
        <stop offset="0%" stop-color="red"/>
        <stop offset="100%" stop-color="blue"/>
      </radialGradient>
      <radialGradient id="GradientRepeat"
            spreadMethod="repeat"
            cx="0.5" cy="0.5" r="0.4" fx="0.25" fy="0.25">
        <stop offset="0%" stop-color="red"/>
        <stop offset="100%" stop-color="blue"/>
      </radialGradient>
  </defs>
  <rect x="10" y="10" rx="15" ry="15" width="100" height="100"
        fill="url(#GradientPad)" stroke="black" stroke-width="2"/>
  <rect x="10" y="120" rx="15" ry="15" width="100" height="100"
    fill="url(#GradientReflect)" stroke="black" stroke-width="2"/>
  <rect x="120" y="120" rx="15" ry="15" width="100" height="100"
        fill="url(#GradientRepeat)" stroke="black" stroke-width="2"/>
  <!-- <rect x="10" y="10" rx="15" ry="15" width="100" height="100" fill="url(#GradientPad)"/>
  <rect x="10" y="120" rx="15" ry="15" width="100" height="100" fill="url(#GradientRepeat)"/>
  <rect x="120" y="120" rx="15" ry="15" width="100" height="100" fill="url(#GradientReflect)"/> -->
  <text x="15" y="30" fill="white" font-family="sans-serif" font-size="12pt">Pad</text>
  <text x="15" y="140" fill="white" font-family="sans-serif" font-size="12pt">Reflect</text>
  <text x="125" y="140" fill="white" font-family="sans-serif" font-size="12pt">Repeat</text>
</svg>
<h4><a class="anchor" aria-hidden="true" id="gradientunits"></a><a href="#gradientunits" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>gradientUnits</h4>
<p>该属性有两个值，默认值为objectBoundingBox</p>
<ul>
<li>objectBoundingBox 我们目前看到的效果都是在这种系统下的，它大体上定义了对象的渐变大小范围，所以你只要指定从0到1的坐标值，渐变就会自动的缩放到对象相同大小</li>
<li>userSpaceOnUse 使用绝对单元，所以你必须知道对象的位置，并将渐变放在同样地位置上。上例中的radialGradient需要被重写成</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="图案"></a><a href="#图案" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>图案</h2>
<p>在我看来patterns（图案）是SVG中用到的最让人混淆的填充类型之一。它的功能非常强大，所以我认为他们值得讨论一下并且我们应至少对他们有最基本的了解。跟渐变一样，<code>&lt;pattern&gt;</code>需要放在SVG文档的<code>&lt;defs&gt;</code>内部。</p>
<pre><code class="hljs css language-svg">&lt;?xml version=<span class="hljs-string">"1.0"</span> standalone=<span class="hljs-string">"no"</span>?&gt;
&lt;svg <span class="hljs-built_in">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"200"</span> xmlns=<span class="hljs-string">"http://www.w3.org/2000/svg"</span> version=<span class="hljs-string">"1.1"</span>&gt;
  &lt;defs&gt;
    &lt;linearGradient id=<span class="hljs-string">"Gradient1"</span>&gt;
      &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"5%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"white"</span>/&gt;
      &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"95%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"blue"</span>/&gt;
    &lt;/linearGradient&gt;
    &lt;linearGradient id=<span class="hljs-string">"Gradient2"</span> x1=<span class="hljs-string">"0"</span> x2=<span class="hljs-string">"0"</span> y1=<span class="hljs-string">"0"</span> y2=<span class="hljs-string">"1"</span>&gt;
      &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"5%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"red"</span>/&gt;
      &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"95%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"orange"</span>/&gt;
    &lt;/linearGradient&gt;
    &lt;pattern id=<span class="hljs-string">"Pattern"</span> x=<span class="hljs-string">"0"</span> y=<span class="hljs-string">"0"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">".25"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">".25"</span>&gt;
      &lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"0"</span> y=<span class="hljs-string">"0"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"50"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"50"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"skyblue"</span>/&gt;
      &lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"0"</span> y=<span class="hljs-string">"0"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"25"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"25"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"url(#Gradient2)"</span>/&gt;
      &lt;<span class="hljs-built_in">circle</span> cx=<span class="hljs-string">"25"</span> cy=<span class="hljs-string">"25"</span> r=<span class="hljs-string">"20"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"url(#Gradient1)"</span> <span class="hljs-built_in">fill</span>-opacity=<span class="hljs-string">"0.5"</span>/&gt;
    &lt;/pattern&gt;
  &lt;/defs&gt;
  &lt;<span class="hljs-built_in">rect</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"url(#Pattern)"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> x=<span class="hljs-string">"0"</span> y=<span class="hljs-string">"0"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"200"</span>/&gt;
&lt;/svg&gt;

&lt;?xml version=<span class="hljs-string">"1.0"</span> standalone=<span class="hljs-string">"no"</span>?&gt;
&lt;svg <span class="hljs-built_in">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"300"</span> xmlns=<span class="hljs-string">"http://www.w5.org/2000/svg/"</span> version=<span class="hljs-string">"1.1"</span>&gt;
  &lt;defs&gt;
    &lt;linearGradient id=<span class="hljs-string">"Gradient111"</span>&gt;
      &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"5%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"white"</span>/&gt;
      &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"95%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"blue"</span>/&gt;
    &lt;/linearGradient&gt;
    &lt;linearGradient id=<span class="hljs-string">"Gradient222"</span> x1=<span class="hljs-string">"0"</span> x2=<span class="hljs-string">"0"</span> y1=<span class="hljs-string">"0"</span> y2=<span class="hljs-string">"1"</span>&gt;
      &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"5%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"red"</span>/&gt;
      &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"95%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"orange"</span>/&gt;
    &lt;/linearGradient&gt;
    &lt;pattern id=<span class="hljs-string">"Pattern12"</span> x=<span class="hljs-string">"0"</span> y=<span class="hljs-string">"0"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">".25"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">".25"</span>&gt;
      &lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"0"</span> y=<span class="hljs-string">"0"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"50"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"50"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"skyblue"</span>/&gt;
      &lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"0"</span> y=<span class="hljs-string">"0"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"25"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"25"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"url(#Gradient222)"</span>/&gt;
      &lt;<span class="hljs-built_in">circle</span> cx=<span class="hljs-string">"25"</span> cy=<span class="hljs-string">"25"</span> r=<span class="hljs-string">"20"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"url(#Gradient111)"</span> <span class="hljs-built_in">fill</span>-opacity=<span class="hljs-string">"0.5"</span>/&gt;
    &lt;/pattern&gt;
  &lt;/defs&gt;
  &lt;<span class="hljs-built_in">rect</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"url(#Pattern12)"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> x=<span class="hljs-string">"0"</span> y=<span class="hljs-string">"0"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"300"</span>/&gt;
&lt;/svg&gt;
</code></pre>
<p>改变<strong>对象</strong>大小，并不能自适应</p>
<?xml version="1.0" standalone="no"?>
<svg width="200" height="200" xmlns="http://www.w4.org/2000/svg/" version="1.1">
  <defs>
    <linearGradient id="Gradient123">
      <stop offset="5%" stop-color="white"/>
      <stop offset="95%" stop-color="blue"/>
    </linearGradient>
    <linearGradient id="Gradient213" x1="0" x2="0" y1="0" y2="1">
      <stop offset="5%" stop-color="red"/>
      <stop offset="95%" stop-color="orange"/>
    </linearGradient>
    <pattern id="Pattern" x="0" y="0" width=".25" height=".25">
      <rect x="0" y="0" width="50" height="50" fill="skyblue"/>
      <rect x="0" y="0" width="25" height="25" fill="url(#Gradient213)"/>
      <circle cx="25" cy="25" r="20" fill="url(#Gradient123)" fill-opacity="0.5"/>
    </pattern>
  </defs>
  <rect fill="url(#Pattern)" stroke="black" x="0" y="0" width="200" height="200"/>
</svg>
<?xml version="1.0" standalone="no"?>
<svg width="300" height="300" xmlns="http://www.w5.org/2000/svg/" version="1.1">
  <defs>
    <linearGradient id="Gradient111">
      <stop offset="5%" stop-color="white"/>
      <stop offset="95%" stop-color="blue"/>
    </linearGradient>
    <linearGradient id="Gradient222" x1="0" x2="0" y1="0" y2="1">
      <stop offset="5%" stop-color="red"/>
      <stop offset="95%" stop-color="orange"/>
    </linearGradient>
    <pattern id="Pattern12" x="0" y="0" width=".25" height=".25">
      <rect x="0" y="0" width="50" height="50" fill="skyblue"/>
      <rect x="0" y="0" width="25" height="25" fill="url(#Gradient222)"/>
      <circle cx="25" cy="25" r="20" fill="url(#Gradient111)" fill-opacity="0.5"/>
    </pattern>
  </defs>
  <rect fill="url(#Pattern12)" stroke="black" x="0" y="0" width="300" height="300"/>
</svg>
<p>patternUnits</p>
<ul>
<li>objectBoundingBox 默认</li>
<li>userSpaceOnUse</li>
</ul>
<p>patternContentUnits</p>
<ul>
<li>userSpaceOnUse 默认</li>
<li>objectBoundingBox</li>
</ul>
<p>这意味着除非你至少指定其中一个属性值（patternContentUnits或patternUnits），否则在pattern中绘制的形状将与pattern元素使用的坐标系不同.</p>
<p>如果<strong>对象</strong>改变了大小，pattern会自适应其大小，但是对象里面的内容不会自适应。如上图<strong>对象</strong><code>rect</code>的大小增大了，内容并没有增大</p>
<pre><code class="hljs css language-svg">&lt;?xml version=<span class="hljs-string">"1.0"</span> standalone=<span class="hljs-string">"no"</span>?&gt;
&lt;svg <span class="hljs-built_in">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"300"</span> xmlns=<span class="hljs-string">"http://www.w6.org/2000/svg/"</span> version=<span class="hljs-string">"1.1"</span>&gt;
  &lt;defs&gt;
    &lt;linearGradient id=<span class="hljs-string">"Gradient11"</span>&gt;
      &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"5%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"white"</span>/&gt;
      &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"95%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"blue"</span>/&gt;
    &lt;/linearGradient&gt;
    &lt;linearGradient id=<span class="hljs-string">"Gradient22"</span> x1=<span class="hljs-string">"0"</span> x2=<span class="hljs-string">"0"</span> y1=<span class="hljs-string">"0"</span> y2=<span class="hljs-string">"1"</span>&gt;
      &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"5%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"red"</span>/&gt;
      &lt;<span class="hljs-built_in">stop</span> offset=<span class="hljs-string">"95%"</span> <span class="hljs-built_in">stop</span>-color=<span class="hljs-string">"orange"</span>/&gt;
    &lt;/linearGradient&gt;
    &lt;pattern id=<span class="hljs-string">"Pattern123"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">".25"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">".25"</span> patternContentUnits=<span class="hljs-string">"objectBoundingBox"</span>&gt;
      &lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"0"</span> y=<span class="hljs-string">"0"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">".25"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">".25"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"skyblue"</span>/&gt;
      &lt;<span class="hljs-built_in">rect</span> x=<span class="hljs-string">"0"</span> y=<span class="hljs-string">"0"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">".125"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">".125"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"url(#Gradient22)"</span>/&gt;
      &lt;<span class="hljs-built_in">circle</span> cx=<span class="hljs-string">".125"</span> cy=<span class="hljs-string">".125"</span> r=<span class="hljs-string">".1"</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"url(#Gradient11)"</span> <span class="hljs-built_in">fill</span>-opacity=<span class="hljs-string">"0.5"</span>/&gt;
    &lt;/pattern&gt;
  &lt;/defs&gt;
  &lt;<span class="hljs-built_in">rect</span> <span class="hljs-built_in">fill</span>=<span class="hljs-string">"url(#Pattern123)"</span> <span class="hljs-built_in">stroke</span>=<span class="hljs-string">"black"</span> x=<span class="hljs-string">"0"</span> y=<span class="hljs-string">"0"</span> <span class="hljs-built_in">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-built_in">height</span>=<span class="hljs-string">"300"</span>/&gt;
&lt;/svg&gt;
</code></pre>
<p>设置了patternContentUnits=&quot;objectBoundingBox&quot;,并改变了取值单位后，就可以自适应了</p>
<?xml version="1.0" standalone="no"?>
<svg width="300" height="300" xmlns="http://www.w6.org/2000/svg/" version="1.1">
  <defs>
    <linearGradient id="Gradient11">
      <stop offset="5%" stop-color="white"/>
      <stop offset="95%" stop-color="blue"/>
    </linearGradient>
    <linearGradient id="Gradient22" x1="0" x2="0" y1="0" y2="1">
      <stop offset="5%" stop-color="red"/>
      <stop offset="95%" stop-color="orange"/>
    </linearGradient>
    <pattern id="Pattern123" width=".25" height=".25" patternContentUnits="objectBoundingBox">
      <rect x="0" y="0" width=".25" height=".25" fill="skyblue"/>
      <rect x="0" y="0" width=".125" height=".125" fill="url(#Gradient22)"/>
      <circle cx=".125" cy=".125" r=".1" fill="url(#Gradient11)" fill-opacity="0.5"/>
    </pattern>
  </defs>
  <rect fill="url(#Pattern123)" stroke="black" x="0" y="0" width="300" height="300"/>
</svg>
<h2><a class="anchor" aria-hidden="true" id="文本"></a><a href="#文本" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>文本</h2>
<p>在一个SVG文档中，<text>元素内部可以放任何的文字。</p>
<pre><code class="hljs css language-svg"><span class="hljs-meta">&lt;?xml version="1.0" standalone="no"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"300"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.1"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"10"</span>&gt;</span>Hello World!<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tspan</span> <span class="hljs-attr">font-weight</span>=<span class="hljs-string">"bold"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>&gt;</span>This is bold and red<span class="hljs-tag">&lt;/<span class="hljs-name">tspan</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<p><svg>
<text x="10" y="10" text-anchor="start">Hello World!</text>
<text>
<tspan font-weight="bold" fill="red">This is bold and red</tspan>
</text>
</svg></p>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/diary/blog/2018/06/16/CV.html">个人简历</a></h1><p class="post-meta">June 16, 2018</p><div class="authorBlock"><p class="post-authorName"><a target="_blank" rel="noreferrer noopener">尹士勇</a></p></div></header><article class="post-content"><div><span><h1><a class="anchor" aria-hidden="true" id="尹士勇"></a><a href="#尹士勇" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>尹士勇</h1>
<p><strong>求职意向：前端工程师</strong></p>
<div class="cv-wrapper">
<div>电话：(0)188-1096-1061</div>
<div>性别：男</div>
</div>
<div class="cv-wrapper">
<div>邮箱：braveyin168@outlook.com</div>
<div >地址：成都市天府新区</div>
</div>
<h2><a class="anchor" aria-hidden="true" id="教育背景"></a><a href="#教育背景" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>教育背景</h2>
<div class="cv-wrapper">
<div>2010.09~2014.07</div>
<div>西南科技大学</div>     
<div style="flex: 2">计算机科学与技术/本科</div>
</div>
<h2><a class="anchor" aria-hidden="true" id="工作经历"></a><a href="#工作经历" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>工作经历</h2>
<div class="road">
<div class="cv-wrapper">
  <div class="road-head"></div>
  <div>2014.07~2018.07</div>
  <div>去哪儿&middot;大住宿</div>     
  <div>前端工程师</div>
  <div>北京</div>
</div>
<blockquote>
<p>去哪儿是中国领先的旅游搜索引擎，去哪儿是目前全球最大的中文在线旅行网站</p>
</blockquote>
<p>业务上</p>
<ul>
<li>参与<strong>5</strong>个web网站、<strong>1</strong>个公众号、<strong>1</strong>个H5和<strong>2</strong>个RN项目的开发，目前为前端负责人</li>
<li>酒店业务华为对接，协调团结<strong>10</strong>多个小组近<strong>30</strong>人，推动项目的发展，按时交付</li>
</ul>
<p>技术上</p>
<ul>
<li>设计开发任务模板系统，提高运营效率<strong>100</strong>%，省<strong>50</strong>%成本，获年度优秀项目奖(<strong>10,000</strong>元)</li>
<li>设计开发npm包q-antd，提高项目开发效率<strong>30</strong>%，提高项目易维护性<strong>30</strong>%</li>
<li>优化去哪儿前端构建工具packing，新建页面错误率降为<strong>0</strong>，新建页面节省<strong>50</strong>%时间</li>
<li>设计开发grunt-i19n插件，准确率提高到<strong>100</strong>%，节省<strong>50</strong>%工作时间</li>
</ul>
<div class="cv-wrapper">
<div class="road-head"></div>
  <div>2018.07~2018.11</div>
  <div>货车帮&middot;大客户</div>     
  <div>前端工程师</div>
  <div>成都</div>
</div>
<blockquote>
<p>去哪儿是中国领先的旅游搜索引擎，去哪儿是目前全球最大的中文在线旅行网站
业务上</p>
</blockquote>
<ul>
<li><p>参与<strong>5</strong>个web网站、<strong>1</strong>个公众号、<strong>1</strong>个H5和<strong>2</strong>个RN项目的开发</p></li>
<li><p>酒店业务华为对接，协调团结<strong>10</strong>多个小组近<strong>30</strong>人，推动项目的发展，按时交付</p></li>
</ul>
<p>技术上</p>
<ul>
<li><p>设计开发任务模板系统，提高运营效率<strong>100</strong>%，省<strong>50</strong>%成本，获年度优秀项目奖(<strong>10,000</strong>元)</p></li>
<li><p>设计开发npm包q-antd，提高项目开发效率<strong>30</strong>%，提高项目易维护性<strong>30</strong>%</p></li>
<li><p>优化去哪儿前端构建工具packing，新建页面错误率降为<strong>0</strong>，新建页面节省<strong>50</strong>%时间</p></li>
<li><p>设计开发grunt-i19n插件，准确率提高到<strong>100</strong>%，节省<strong>50</strong>%工作时间</p></li>
</ul>
</div>
<p>爱折腾，知识面广，吸收了travis和jest等使得开发效率、正确率和规范化大大提高</p>
<h2><a class="anchor" aria-hidden="true" id="工作技能"></a><a href="#工作技能" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>工作技能</h2>
<ul>
<li>掌握JavaScript、Vue、React、React Native</li>
<li>熟悉github、travis、<strong>jest</strong>、enzyme、eslint、<strong>prettier</strong></li>
<li>熟悉node、socket.io、<strong>packing</strong>、gulp、grunt、webpack、bash、python、django</li>
<li>熟悉<strong>mobx</strong>、rxjs、redux</li>
<li>熟悉iview、antd</li>
<li>熟悉ajax、CORS、http、websocket</li>
<li>熟悉jquery、html、pug、css</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="自我评价"></a><a href="#自我评价" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>自我评价</h2>
<p>喜欢逛github，研究优秀的项目，从中学习新知识和牛逼的地方</p>
<style scoped>
  .fixedHeaderContainer,
.postHeader,
#docsNav,
.onPageNav,
.blog-recent,
.nav-footer {
    display: none;
}
.navPusher,
.blogContainer .lonePost {
    padding-top: 0;
}
.sideNavVisible .wrapper {
    max-width: 860px !important;
    min-width: 510px;
}
#back-to-top{
  background: #333;
}
blockquote{
  border-left-color: #333;
  background: #d8d8d8;
}
.centers {
    background: #d8d8d8;
}
.road {
  border-left: 1px solid deepskyblue;
  padding-left: 15px;
  position: relative;
}
.road-head {
  position: absolute;
  top: 5px;
  left: -21px;
  content: "";
  width: 0;
  background: #555;
  height: 0;
  border: 6px solid deepskyblue;
  border-radius: 10px;
}
.road p {
  margin-bottom: 0;
}
li p {
  margin-top: 0.5em;
}
</style>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/diary/blog/2018/06/14/workspaces.html">Workspaces是什么</a></h1><p class="post-meta">June 14, 2018</p><div class="authorBlock"><p class="post-authorName"><a target="_blank" rel="noreferrer noopener">Shiyong Yin</a></p></div></header><article class="post-content"><div><span><p>感觉vue-cli写得相当不错，想瞅瞅源码，于是就进入package.json中找找main字段吧，因为main
字段就是工程的入口文件嘛。</p>
<p>上下看了三遍，卧槽，没有！</p>
<p>好吧，main字段没有，bin总该有吧。</p>
<p>上下又看了三遍，卧槽，还是没有，唯一可疑的发现了个workspaces字段。</p>
<h2><a class="anchor" aria-hidden="true" id="寻找"></a><a href="#寻找" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>寻找</h2>
<p>你牛B，那就去npm官网瞅瞅workspaces字段是什么意思吧。</p>
<p>卧槽，无此字段的介绍。瞬间一脸的懵逼。</p>
<p>后来各种搜索why package.json no main keyword，未找到答案</p>
<h2><a class="anchor" aria-hidden="true" id="结果"></a><a href="#结果" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>结果</h2>
<p>最后尝试了下package.json workspaces关键词的搜索，找到了yarn的一篇文章(<a href="https://yarnpkg.com/blog/2017/08/02/introducing-workspaces/">原文传送门</a>)，柳暗花明又一村了。</p>
<p>大概意思是，随着时间的推移我们的项目会变得越来越大，模块越来越多。这时候有两种解决方案。</p>
<ol>
<li>将子模块放到其他repo中来进行管理，但是你会发现负担很重，需要多个地方写代码，多个地方处理issue等</li>
<li>将所有模块进行拆分都放到同一个repo钟来管理</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="monorepos"></a><a href="#monorepos" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Monorepos</h2>
<p>放在同一个repo中来管理的时候通常使用Monorepos的方式来管理此repo，使用这种方式的有很多我们经常使用
的js包，比如Babel, React, Vue, Angular, Jest等</p>
<p>然而，仅仅进行拆分并使用Monorepos管理远远是不够的，比如测试，管理依赖，发布多个包等变得复杂起来。
这是一些工具比如Lerna就派上了用场</p>
<h2><a class="anchor" aria-hidden="true" id="lerna"></a><a href="#lerna" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Lerna</h2>
<p>Lerna是一个对多个子模块工程管理进行优化的工具。简而言之，Lerna会安装在工程中的每个package，并在
相互依赖的package之间创建软链接。</p>
<p>然而，作为一个包管理的装饰器，Lerna不能有效的控制node_module中的内容。
比如多个子模块都依赖同一个包。Lerna会安装多次而不是一次。</p>
<h2><a class="anchor" aria-hidden="true" id="workspaces"></a><a href="#workspaces" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Workspaces</h2>
<p>Workspaces能够让用户根据根package.json中的workspace字段从多个子文件中的package.json中安装以依赖。</p>
<p>例如Jest的例子</p>
<p>工程目录结构如下</p>
<pre><code class="hljs css language-js">| jest/
| ---- package.json <span class="hljs-comment">//根package.json</span>
| ---- packages/
| -------- jest-matcher-utils/
| ------------ package.json <span class="hljs-comment">//子package.json</span>
| -------- jest-diff/
| ------------ package.json
...
</code></pre>
<p>根package.json内容如下</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"private"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"jest"</span>,
  <span class="hljs-attr">"devDependencies"</span>: {
    <span class="hljs-attr">"chalk"</span>: <span class="hljs-string">"^2.0.1"</span>
  },
  <span class="hljs-attr">"workspaces"</span>: [
    <span class="hljs-string">"packages/*"</span>
  ]
}
</code></pre>
<p>两个字模块中的package.json如下</p>
<ol>
<li>jest-matcher-utils
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"jest-matcher-utils"</span>,
  <span class="hljs-attr">"description"</span>: <span class="hljs-string">"..."</span>,
  <span class="hljs-attr">"version"</span>: <span class="hljs-string">"20.0.3"</span>,
  <span class="hljs-attr">"license"</span>: <span class="hljs-string">"..."</span>,
  <span class="hljs-attr">"main"</span>: <span class="hljs-string">"..."</span>,
  <span class="hljs-attr">"browser"</span>: <span class="hljs-string">"..."</span>,
  <span class="hljs-attr">"dependencies"</span>: {
    <span class="hljs-attr">"chalk"</span>: <span class="hljs-string">"^1.1.3"</span>,
    <span class="hljs-attr">"pretty-format"</span>: <span class="hljs-string">"^20.0.3"</span>
  }
}
</code></pre></li>
<li>jest-diff (依赖了jest-matcher-utils)
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"jest-diff"</span>,
  <span class="hljs-attr">"version"</span>: <span class="hljs-string">"20.0.3"</span>,
  <span class="hljs-attr">"license"</span>: <span class="hljs-string">"..."</span>,
  <span class="hljs-attr">"main"</span>: <span class="hljs-string">"..."</span>,
  <span class="hljs-attr">"browser"</span>: <span class="hljs-string">"..."</span>,
  <span class="hljs-attr">"dependencies"</span>: {
    <span class="hljs-attr">"chalk"</span>: <span class="hljs-string">"^1.1.3"</span>,
    <span class="hljs-attr">"diff"</span>: <span class="hljs-string">"^3.2.0"</span>,
    <span class="hljs-attr">"jest-matcher-utils"</span>: <span class="hljs-string">"^20.0.3"</span>,
    <span class="hljs-attr">"pretty-format"</span>: <span class="hljs-string">"^20.0.3"</span>
  }
}
</code></pre></li>
</ol>
<p>使用Lerno进行安装结果</p>
<pre><code class="hljs css language-js">| jest/
| ---- node_modules/
| -------- chalk/
| ---- package.json
| ---- packages/
| -------- jest-matcher-utils/
| ------------ node_modules/
| ---------------- chalk/
| ---------------- pretty-format/
| ------------ package.json
| -------- jest-diff/
| ------------ node_modules/
| ---------------- chalk/
| ---------------- diff/
| ---------------- jest-matcher-utils/  (symlink) -&gt; ../jest-matcher-utils
| ---------------- pretty-format/
| ------------ package.json
...
</code></pre>
<p>我们可以看到jest-matcher-utils的冗余</p>
<p>使用workpaces进行安装</p>
<pre><code class="hljs">| <span class="hljs-type">jest</span>/
| <span class="hljs-type">---- node_modules</span>/
| <span class="hljs-type">-------- chalk</span>/
| <span class="hljs-type">-------- diff</span>/
| <span class="hljs-type">-------- pretty</span>-format/
| <span class="hljs-type">-------- jest</span>-matcher-utils/  (symlink) -&gt; ../packages/jest-matcher-utils
| <span class="hljs-type">---- package</span>.json
| <span class="hljs-type">---- packages</span>/
| <span class="hljs-type">-------- jest</span>-matcher-utils/
| <span class="hljs-type">------------ node_modules</span>/
| <span class="hljs-type">---------------- chalk</span>/
| <span class="hljs-type">------------ package</span>.json
| <span class="hljs-type">-------- jest</span>-diff/
| <span class="hljs-type">------------ node_modules</span>/
| <span class="hljs-type">---------------- chalk</span>/
| <span class="hljs-type">------------ package</span>.json
...
</code></pre>
<p>我们看到只有一个jest-matcher-utils</p>
<h2><a class="anchor" aria-hidden="true" id="管理workspaces中的依赖"></a><a href="#管理workspaces中的依赖" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>管理workspaces中的依赖</h2>
<p>仅仅使用<code>yarn add</code>等命令在workspaces文件家中进行管理即可。</p>
<pre><code class="hljs css language-bash">$ <span class="hljs-built_in">cd</span> packages/jest-matcher-utils/
$ yarn add left-pad
✨ Done <span class="hljs-keyword">in</span> 1.77s.
$ git status
modified: package.json
modified: ../../yarn.lock
</code></pre>
<p>但是注意，workspaces中无yarn.lock，只在root中含有一个yarn.lock</p>
<h2><a class="anchor" aria-hidden="true" id="整合workspaces和lerna"></a><a href="#整合workspaces和lerna" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>整合workspaces和Lerna</h2>
<p>workspaces并没有使Lerna过时</p>
<p>Lerna有他的长处和优点，可以和workspaces共存</p>
<p>Jest使用yarn来启动工程，使用Lerna来发布。</p>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/diary/blog/2018/06/12/local-test-npm-package.html">NPM包测试之低高级策略</a></h1><p class="post-meta">June 12, 2018</p><div class="authorBlock"><p class="post-authorName"><a target="_blank" rel="noreferrer noopener">Shiyong Yin</a></p></div></header><article class="post-content"><div><span><blockquote>
<p>以下操作是基于yarn的，npm同样有效</p>
</blockquote>
<div class="update">
<h2><a class="anchor" aria-hidden="true" id="20180617更"></a><a href="#20180617更" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2018.06.17更</h2>
<h3><a class="anchor" aria-hidden="true" id="原文问题"></a><a href="#原文问题" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>原文问题</h3>
<p>在之前介绍的三个方法中，虽然第三个方法看上去很完美。但是依然有一个问题。会出现multi package的问题，这是一个什么问题呢？比如我们的实际工程merchant_fe中引入了react，我们引入的q-antd(q-antd是被测试的包)中也引入了react。那么这时就需要在merchant_fe和q-antd都引入react，他们并没有引用同一个react包。</p>
<h3><a class="anchor" aria-hidden="true" id="高级策略-jest"></a><a href="#高级策略-jest" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>高级策略——jest</h3>
<p>那么有没更好的方法来解决测试的问题？我们是不是可以换一种思路来解决问题，之前都是通过装包的方式来进行测试。
我们可否不装包就行测试，而是直接对包进行测试呢？</p>
<p>左思右想了下，之前了解过jest，不就是可以用在这种情况下。</p>
<p>于是，引入jest进行尝试。果不其然，完全可以。这才是真正的正解吧，只要我的包通过了各种姿势的测试，就不怕安装的包有问题。</p>
</div>
<h2><a class="anchor" aria-hidden="true" id="每次发包真的烦"></a><a href="#每次发包真的烦" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>每次发包真的烦</h2>
<p>开发一个npm包，偶尔或许经常需要优化下，每次都发包，然后安包，最后再测试，肯定太繁琐了。还有可能遇到愚蠢的错误，比如变量
未定义变量等。</p>
<p>所以，在发包前进行简单或者完整的测试是有必要的，这样也不至于导致我们的包的版本非常多。</p>
<h2><a class="anchor" aria-hidden="true" id="方法一-使用路径引用包"></a><a href="#方法一-使用路径引用包" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>方法一、使用路径引用包</h2>
<ul>
<li>在修改测试包之后是否能够更新的到：能</li>
</ul>
<p>比如要测试q-antd</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { Form } <span class="hljs-keyword">from</span> <span class="hljs-string">'absoulte_path|relative_path/to/q-antd'</span>
</code></pre>
<p>这个方法最简单，适用于有个专门的测试工程来做测试这件事情.在实际工程中我们往往是这样引用的</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> { Form } <span class="hljs-keyword">from</span> <span class="hljs-string">'q-antd'</span>
</code></pre>
<p>每次测试完还需要改回来，太愚蠢了。</p>
<p>所以，不建议此方法。</p>
<h2><a class="anchor" aria-hidden="true" id="方法二-使用pack"></a><a href="#方法二-使用pack" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>方法二、使用pack</h2>
<ul>
<li>在修改测试包之后是否能够更新的到：不能，需要再次pack</li>
</ul>
<p>具体步骤如下</p>
<pre><code class="hljs css language-bash"><span class="hljs-meta">#!/usr/local/env bash</span>
<span class="hljs-built_in">cd</span> path/to/q-antd
yarn pack
<span class="hljs-built_in">cd</span> path/to/测试工程
yarn add absolute_path|realtive_path/to/q-antd/q-antd-version.tgz
</code></pre>
<p><code>yarn pack</code>会将q-antd包生成一个tgz压缩包，然后就可以通过yarn来安装了</p>
<p>此方法其实和发布npm类似，没死修改之后都需要执行上面的至少两个步骤。而且每次pack的版本不能相同，否则，新增的内容不会
被引用到</p>
<p>总之，此方法也不行，太麻烦</p>
<h2><a class="anchor" aria-hidden="true" id="方法三-完美大招-使用link"></a><a href="#方法三-完美大招-使用link" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>方法三、完美大招——使用link</h2>
<ul>
<li>在修改测试包之后是否能够更新的到：能</li>
</ul>
<p>具体步骤如下</p>
<pre><code class="hljs css language-bash"><span class="hljs-meta">#!/usr/local/env bash</span>
<span class="hljs-built_in">cd</span> path/to/q-antd
yarn link
<span class="hljs-built_in">cd</span> path/to/测试工程
yarn link q-antd
</code></pre>
<p><code>yarn link</code>会将q-antd放到node的全局变量里面，所以在目标工程里直接<code>yarn link q-antd</code>就可以了。</p>
<p>link一次，使用永久</p>
<p>此乃最佳方法</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev" href="/diary/blog/">← Prev</a><a class="docs-next" href="/diary/blog/page3/">Next →</a></div></div></div></div></div><footer class="nav-footer" id="footer"><a href="https://code.facebook.com/projects/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"></a><section class="copyright">Copyright © 2018-2019 Shiyong Yin</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'ab87fbb1dabfa3bd00662f0f793a313f',
                indexName: 'ysyfff',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>